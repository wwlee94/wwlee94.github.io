---
title: 'ì™œ ë¦¬ë‹¤ì´ë ‰íŠ¸ì‹œ HTTP ë©”ì†Œë“œë“¤ì€ GET ë©”ì„œë“œë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ ë ê¹Œ?'
date: '2020-08-27'
category: 'blog'
description: ''
emoji: 'â”'
---

## ê°œìš”

ìµœê·¼ ì €ëŠ” [ë£¨ë¹„ì½˜ ë©˜í† ë§ í”„ë¡œì íŠ¸](https://lubycon.io/magazines) ë¼ëŠ” ê³³ì—ì„œ 2ê¸° ë©˜í† ë§ì— ì°¸ì—¬í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê³  ìžˆìŠµë‹ˆë‹¤ !

í”„ë¡œì íŠ¸ëŠ” `Spring` ê¸°ë°˜ìœ¼ë¡œ APIë¥¼ êµ¬ì¶•í•œ ë’¤ `Github CI/CD` ê¸°ëŠ¥ì„ ì´ìš©í•´ ë¹Œë“œ ë° `AWS EB` ë°°í¬ ìžë™í™”ë¥¼ êµ¬ì¶•í•˜ì˜€ëŠ”ë°ìš”.

ì„œë²„ëŠ” `Application` ë ˆë²¨ì˜ ë¡œë“œë°¸ëŸ°ì„œë¥¼ ì´ìš©í•˜ì—¬ `HTTPS`ë¥¼ ì ìš©í•˜ì˜€ê³  `HTTP` í”„ë¡œí† ì½œë¡œ ì ‘ê·¼í•˜ê²Œ ë˜ë©´ `HTTPS`ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„œë²„ë¥¼ êµ¬ì¶•í•´ë‘ì—ˆìŠµë‹ˆë‹¤.

ì´í›„, ë°°í¬í•œ ì„œë²„ì— ê°„ë‹¨í•œ API í…ŒìŠ¤íŒ…ì„ ì§„í–‰í•´ ë³´ì•˜ëŠ”ë° ë‹¤ìŒê³¼ ê°™ì€ ì´ìŠˆê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.

#### ì´ìŠˆ ë°œìƒ

- HTTP POST ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì´í›„ HTTPS GET ë©”ì„œë“œë¡œ `ë³€í™˜ë˜ì–´ í˜¸ì¶œ`ë˜ëŠ” ì´ìŠˆ

**1. ì •ìƒì ì¸ GET ë©”ì„œë“œ í˜¸ì¶œ**

- `api.partying.cf` -> `http://api.partying.cf`ë¡œ ìš”ì²­ë¨ !
  ![ì´ìŠˆ-1](./images/issue-1.png)

**2. HTTP -> HTTPS ë¦¬ë‹¤ì´ë ‰íŠ¸ ë˜ë©´ì„œ GET ë©”ì„œë“œë¡œ ë³€í˜•ëœ POST í˜¸ì¶œ**
![ì´ìŠˆ-2](./images/issue-2.png)

**3. ì²« í˜¸ì¶œ ì‹œ HTTPS POSTë¡œ í˜¸ì¶œí•˜ë©´ ì •ìƒ í˜¸ì¶œ**

- `Party-ing` API ì„œë²„ì˜ `/` POSTëŠ” ì—†ìœ¼ë¯€ë¡œ ì—ëŸ¬ ë©”ì‹œì§€ëŠ” ì •ìƒ í˜¸ì¶œ âœ”ï¸
  ![ì´ìŠˆ-3](./images/issue-3.png)

#### ë¦¬ë‹¤ì´ë ‰íŠ¸ì‹œ ë©”ì„œë“œê°€ ë³€ê²½ë˜ëŠ” ì´ìœ 

ìŠ¤í”„ë§ì˜ Default ë¦¬ë‹¤ì´ë ‰íŠ¸ HTTP ìƒíƒœ ì½”ë“œëŠ” `302`ì´ê³  AWS ALBì˜ Default ë¦¬ë‹¤ì´ë ‰íŠ¸ HTTP ìƒíƒœ ì½”ë“œë„ `302` ìž…ë‹ˆë‹¤.

ì• ì´ˆì— `302` ì½”ë“œëŠ” `GET` ë˜ëŠ” `HEAD` ì´ì™¸ì˜ ìš”ì²­ì— ëŒ€í•´ì„œ ì‚¬ìš©ìžê°€ ìš”ì²­ ì¡°ê±´ì„ ë³€ê²½ í•  ìˆ˜ ìžˆê¸°ì— ì‚¬ìš©ìžë¥¼ í™•ì¸í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ë¦¬ë””ë ‰ì…˜ ëœ ìš”ì²­ì—ì„œ ë©”ì„œë“œë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡ ì§€ì •í•œë‹¤ëŠ” [RFC2616 HTTP ìŠ¤íŽ™](https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.3)ì´ ìžˆëŠ” ê²ƒìœ¼ë¡œ í™•ì¸í–ˆìŠµë‹ˆë‹¤.

---

ë˜í•œ, `Stackoverflow`ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì˜ê²¬ë„ ì¡´ìž¬í–ˆìŠµë‹ˆë‹¤. (ì–´ëŠ ê°œì¸ì˜ ì˜ê²¬ìž…ë‹ˆë‹¤.)

![ì´ìœ -1](./images/reason-1.png)

ë§í¬ : https://stackoverflow.com/questions/59719772/redirection-of-http-to-https-in-the-aws-application-load-balancer-converts-post

HTTP POST ìš”ì²­ì„ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•˜ëŠ” ê²ƒì€ ë¦¬ë‹¤ì´ë ‰ì…˜ì´ ë°œìƒí•  ë•Œ í—¤ë”ì™€ ê²Œì‹œë¬¼ ë³¸ë¬¸ì´ ì´ë¯¸ ì•”í˜¸í™”ë˜ì§€ ì•Šì€ ìƒíƒœë¡œ ì¸í„°ë„·ì„ í†µí•´ ì „ì†¡ ë˜ì—ˆê¸° ë•Œë¬¸ì— ì˜ë¯¸ê°€ ì—†ëŠ” í–‰ë™ì´ë¼ëŠ” ì˜ê²¬ìž…ë‹ˆë‹¤.

#### ê·¸ëŸ¼ì—ë„ ë™ì¼í•œ HTTP ë©”ì„œë“œë¡œ ìš”ì²­í•˜ë ¤ë©´?

_ê·¸ë ‡ë‹¤ë©´ ë§Œì•½ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë˜ë”ë¼ë„ ê¸°ì¡´ì˜ ë©”ì„œë“œ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?_  
ë‹µì€ `307` HTTP ìƒíƒœ ì½”ë“œë¥¼ ì´ìš©í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.

_ê·¸ëŸ¼ í˜„ìž¬ ì„œë²„ë“¤ì€ ì™œ 307 ëŒ€ì‹  302ë¥¼ ê³„ì† ì‚¬ìš©í•˜ê³  ìžˆì„ê¹Œ?_  
ê·¸ ì´ìœ ëŠ” í˜„ìž¬ì˜ ìµœì‹  ë¸Œë¼ìš°ì €ë“¤ì€ `307` HTTP ìƒíƒœ ì½”ë“œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìžˆì§€ë§Œ, ì˜¤ëž˜ëœ ë¸Œë¼ìš°ì €ë“¤ì€ `307` ì½”ë“œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— í˜¸í™˜ì„± ë•Œë¬¸ì— ê³„ì† `302` ë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•©ë‹ˆë‹¤.

#### AWS ALBì—ì„œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì½”ë“œë¥¼ ë³€ê²½í•  ìˆ˜ ìžˆì„ê¹Œ?

ì•„ì‰½ì§€ë§Œ.. ðŸ˜­

AWS ALBì—ì„œëŠ” `307` HTTP ìƒíƒœ ì½”ë“œë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.

ë§í¬ : [Amazon ALB - Redirect changes http method to GET](https://stackoverflow.com/questions/56893149/amazon-alb-redirect-changes-http-method-to-get)

## ë§ˆë¬´ë¦¬

ì €ëŠ” ìœ„ì˜ ì´ìŠˆê°€ ì„œë²„ êµ¬ì¡°ë¥¼ ìž˜ëª» ì§°ê±°ë‚˜ ì½”ë“œì— ë¬¸ì œê°€ ìžˆë‹¤ê³  ìƒê°í–ˆì§€ë§Œ, ì• ì´ˆì— RFC ìŠ¤íŽ™ì—ì„œ ì„¤ê³„í•˜ê³  ì˜ˆìƒëœ ë™ìž‘ìž„ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.

ì œê°€ ê³µìœ í•œ ë‚´ìš©ë“¤ì´ ë„ì›€ì´ ë¬ê¸°ë¥¼ ë°”ë¼ë©´ì„œ ì´ë§Œ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤ :)

## ì°¸ê³  ì‚¬ì´íŠ¸

1. [What is the correct behavior expected of an HTTP POST => 302 redirect to GET?](https://stackoverflow.com/questions/17605915/what-is-the-correct-behavior-expected-of-an-http-post-302-redirect-to-get)
2. [Why doesn't HTTP have POST redirect?](https://softwareengineering.stackexchange.com/questions/99894/why-doesnt-http-have-post-redirect)
