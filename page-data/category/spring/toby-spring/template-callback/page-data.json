{"componentChunkName":"component---src-templates-post-tsx","path":"/category/spring/toby-spring/template-callback/","result":{"data":{"site":{"siteMetadata":{"title":"Blausee κΈ°μ  λΈ”λ΅κ·Έ","author":"wwlee94","siteUrl":"https://wwlee94.github.io"}},"markdownRemark":{"id":"b8f507e3-5bb7-5dfc-8690-2aab28d099fb","excerpt":"κ°μ” μ—λ” μμ λ΅­κ² μ—΄λ ¤μκ³  μ—λ” κµ³κ² λ‹«ν€ μλ‹¤λ” κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ ν•µμ‹¬ μ›μΉ™μΈ (OCPβ€¦","html":"<h2 id=\"κ°μ”\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"κ°μ” permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>κ°μ”</h2>\n<p><code class=\"language-text\">ν™•μ¥</code>μ—λ” μμ λ΅­κ² μ—΄λ ¤μκ³  <code class=\"language-text\">λ³€κ²½</code>μ—λ” κµ³κ² λ‹«ν€ μλ‹¤λ” κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ ν•µμ‹¬ μ›μΉ™μΈ <code class=\"language-text\">κ°λ°© νμ‡„ μ›μΉ™</code>(OCP) μ„ μƒκ°ν•΄λ΄…μ‹λ‹¤.<br>\nκ°κ° λ‹¤λ¥Έ λ©μ κ³Ό μ΄μ μ— μν•΄μ„ λ‹¤λ¥Έ μ‹μ μ— λ…λ¦½μ μΌλ΅ λ³€κ²½λ  μ μλ” ν¨μ¨μ μΈ κµ¬μ΅°λ¥Ό λ§λ“¤μ–΄μ£Όλ” κ²ƒμ΄ <code class=\"language-text\">κ°λ°© νμ‡„ μ›μΉ™</code>μ…λ‹λ‹¤.</p>\n<p><code class=\"language-text\">ν…ν”λ¦Ώ</code>μ΄λ€ μ΄λ ‡κ² λ°”λ€λ” μ„±μ§ μ¤‘μ—μ„λ„ <code class=\"language-text\">λ³€κ²½μ΄ μΌμ–΄λ‚μ§€ μ•λ” μ„±μ§μ„ κ°€μ§„ λ¶€λ¶„</code>μ„ <code class=\"language-text\">μμ λ΅­κ² λ³€κ²½λλ” μ„±μ§μ„ κ°€μ§„ λ¶€λ¶„</code>μΌλ΅λ¶€ν„° λ¶„λ¦¬μ‹μΌ ν¨κ³Όμ μΌλ΅ μ¬μ‚¬μ©ν•  μ μλ„λ΅ ν•λ” λ°©λ²•μ…λ‹λ‹¤.</p>\n<h2 id=\"λ³€ν•λ”-κ²ƒκ³Ό-λ³€ν•μ§€-μ•λ”-κ²ƒ\" style=\"position:relative;\"><a href=\"#%EB%B3%80%ED%95%98%EB%8A%94-%EA%B2%83%EA%B3%BC-%EB%B3%80%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83\" aria-label=\"λ³€ν•λ” κ²ƒκ³Ό λ³€ν•μ§€ μ•λ” κ²ƒ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>λ³€ν•λ” κ²ƒκ³Ό λ³€ν•μ§€ μ•λ” κ²ƒ</h2>\n<p>JDBCμ—μ„ <code class=\"language-text\">try/catch/finally</code> μμ™Έ μ²λ¦¬λ¥Ό μ μ©ν• μ½”λ“λ¥Ό λ³΄λ©΄μ„ μƒκ°ν•΄λ΄…μ‹λ‹¤.</p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">deleteAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Connection</span> c <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">PreparedStatement</span> ps <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        c <span class=\"token operator\">=</span> dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ps <span class=\"token operator\">=</span> c<span class=\"token punctuation\">.</span><span class=\"token function\">prepareStatement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delete from users\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// λ³€ν•λ” λ¶€λ¶„</span>\n        ps<span class=\"token punctuation\">.</span><span class=\"token function\">executeUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> e<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ps <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                ps<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                c<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>μ½”λ“λ¥Ό λ³΄μλ§μ λ„λ¬΄ λ§‰λ§‰ν•©λ‹λ‹¤ π¦<br>\nλ³µμ΅ν• <code class=\"language-text\">try/catch/finally</code> λΈ”λ΅μ΄ 2μ¤‘μΌλ΅ μ¤‘μ²©κΉμ§€λλ©° λ§λ“λ” λ¨λ“  λ©”μ†λ“λ§λ‹¤ μ½”λ“κ°€ λ°λ³µλ  κ²ƒμ…λ‹λ‹¤.</p>\n<p><strong>μ΄λ° μ½”λ“λ¥Ό ν¨κ³Όμ μΌλ΅ λ‹¤λ£° μ μλ” λ°©λ²•μ€ μ—†μ„κΉ?</strong></p>\n<p>μ΄ λ¬Έμ μ ν•µμ‹¬μ€ λ§μ€ κ³³μ—μ„ <code class=\"language-text\">μ¤‘λ³µλκ³  λ³€ν•μ§€ μ•λ” μ½”λ“</code> μ™€ <code class=\"language-text\">μμ£Ό ν™•μ¥λκ³  λ³€ν•λ” μ½”λ“</code>λ¥Ό <code class=\"language-text\">λ¶„λ¦¬</code>ν•΄λ‚΄λ” μ‘μ—…μ…λ‹λ‹¤.</p>\n<p>μ„μ μ½”λ“μ—μ„ <code class=\"language-text\">λ³€ν•μ§€ μ•λ” λ¶€λ¶„</code>κ³Ό <code class=\"language-text\">λ³€ν•λ” λ¶€λ¶„</code>μ„ λ¶„λ¦¬ν•  μ μμµλ‹λ‹¤.</p>\n<ol>\n<li>\n<p>λ³€ν•μ§€ μ•λ” λ¶€λ¶„</p>\n<ul>\n<li>DBλ¥Ό μ—°κ²°ν•κ³  μΏΌλ¦¬λ¥Ό μ‹¤ν–‰μ‹ν‚¤κ³  λ¦¬μ†μ¤λ¥Ό λ°ν™(close) μ‘μ—…</li>\n</ul>\n</li>\n<li>\n<p>λ³€ν•λ” λ¶€λ¶„</p>\n<ul>\n<li>PrepareStatementλ¥Ό μƒμ„±ν•λ” μ‘μ—… + μΏΌλ¦¬λ¬Έ</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"μ‘μ—…μ-λ¶„λ¦¬\" style=\"position:relative;\"><a href=\"#%EC%9E%91%EC%97%85%EC%9D%98-%EB%B6%84%EB%A6%AC\" aria-label=\"μ‘μ—…μ λ¶„λ¦¬ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>μ‘μ—…μ λ¶„λ¦¬</h4>\n<p>μ΄λ ‡κ² κµ¬λ¶„μ§€μ€ μ‘μ—…μ„ λ¶„λ¦¬ν•λ” λ°©λ²•μ€ λ³΄ν†µ <code class=\"language-text\">3κ°€μ§€ λ°©λ²•</code>μΌλ΅ μ ‘κ·Όν•  μ μμµλ‹λ‹¤.</p>\n<ol>\n<li>λ©”μ†λ“ μ¶”μ¶ λ°©λ²•</li>\n<li>ν…ν”λ¦Ώ λ©”μ†λ“ ν¨ν„΄μ μ μ©</li>\n<li>μ „λµ ν¨ν„΄μ μ μ©</li>\n</ol>\n<p>μ²«λ²μ§Έ, <code class=\"language-text\">λ©”μ†λ“ μ¶”μ¶ λ°©λ²•</code>μ€ μ¤‘λ³µμ΄ λ§μ΄ μΌμ–΄λ‚λ” λ³€ν•μ§€ μ•λ” λ¶€λ¶„μ„ λ©”μ†λ“λ΅ μ¶”μ¶ν•΄μ•Όν•μ§€λ§, λ³€ν•μ§€ μ•λ” λ¶€λ¶„μ΄ λ³€ν•λ” λ¶€λ¶„μ„ κ°μ‹Έλ” κµ¬μ΅°μ΄κΈ°μ— μ μ©μ΄ μ• λ§¤ν•©λ‹λ‹¤.</p>\n<p>λ‘λ²μ§Έ, <code class=\"language-text\">ν…ν”λ¦Ώ λ©”μ†λ“ ν¨ν„΄ λ°©λ²•</code>μ€ μƒμ†μ„ ν†µν•΄ κΈ°λ¥μ„ ν™•μ¥μ‹ν‚¤λ” λ°©λ²•μ…λ‹λ‹¤.<br>\nν•μ§€λ§, μƒμ†μ€ λ‹¤μ¤‘ μƒμ†μ΄ λ¶κ°€λ¥ν•κ³  DAO λ΅μ§λ§λ‹¤ μƒμ†μ„ ν†µν•΄ μƒλ΅μ΄ ν΄λμ¤λ¥Ό μƒμ„±ν•΄μ•Όν•λ‹¤λ” λ‹¨μ μ΄ μμµλ‹λ‹¤.</p>\n<p>μ„Έλ²μ§Έ, <code class=\"language-text\">μ „λµ ν¨ν„΄ λ°©λ²•</code>μ€ μ¤λΈμ νΈλ¥Ό μ•„μ λ‘λ΅ λ¶„λ¦¬ν•κ³  μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄μ„λ§ μμ΅΄ν•λ„λ΅ λ§λ“λ” λ°©λ²•μ…λ‹λ‹¤.</p>\n<h4 id=\"μ „λµ-ν¨ν„΄μ-μ μ©\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EB%9E%B5-%ED%8C%A8%ED%84%B4%EC%9D%98-%EC%A0%81%EC%9A%A9\" aria-label=\"μ „λµ ν¨ν„΄μ μ μ© permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>μ „λµ ν¨ν„΄μ μ μ©</h4>\n<p>μ—¬κΈ°μ„λ” μ„Έλ²μ§Έ <code class=\"language-text\">μ „λµ ν¨ν„΄ λ°©λ²•</code>μ„ μ μ©ν•΄λ³΄λ ¤κ³  ν•©λ‹λ‹¤.</p>\n<p>λ³€ν•λ” λ¶€λ¶„μ„ λ¶„λ¦¬ν• κ²ƒμ„ μ „λµ ν¨ν„΄μ—μ„ <code class=\"language-text\">μ „λµ</code>μ΄λΌκ³  ν•©λ‹λ‹¤.</p>\n<p>λ¨Όμ €, μ΄λ¥Ό μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬ν•λ©΄</p>\n<p><strong>1. StatementStrategy μ „λµ μΈν„°νμ΄μ¤</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">StatementStrategy</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">PreparedStatement</span> <span class=\"token function\">makePreparedStatement</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Connection</span> c<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><strong>2. deleteAll() λ©”μ†λ“μ κΈ°λ¥μ„ κµ¬ν„ν• StatementStrategy μ „λµ ν΄λμ¤</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DeleteAllStatement</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">StatementStrategy</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PreparedStatement</span> <span class=\"token function\">makePreparedStatement</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Connection</span> c<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">PreparedStatement</span> ps <span class=\"token operator\">=</span> c<span class=\"token punctuation\">.</span><span class=\"token function\">prepareStatement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delete from users\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> ps<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>λ‹¤μμΌλ΅ λ³€ν•μ§€ μ•λ” λ¶€λ¶„μ„ λ¶„λ¦¬ν•©λ‹λ‹¤.<br>\nλ³€ν•μ§€ μ•λ” λ¶€λ¶„μ„ λ¶„λ¦¬ν• κ²ƒμ„ <code class=\"language-text\">μ»¨ν…μ¤νΈ</code>λΌκ³  ν•©λ‹λ‹¤.</p>\n<p><strong>3. μ¤‘λ³µλλ” μ½”λ“λ¥Ό λ¶„λ¦¬ν• μ»¨ν…μ¤νΈ μ½”λ“</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">jdbcContextWithStatementStrategy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">StatementStrategy</span> stmt<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Connection</span> c <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">PreparedStatement</span> ps <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        c <span class=\"token operator\">=</span> dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ps <span class=\"token operator\">=</span> stmt<span class=\"token punctuation\">.</span><span class=\"token function\">makePreparedStatement</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// μ»¨ν…μ¤νΈμ—μ„ μ „λµ μ‚¬μ©</span>\n        ps<span class=\"token punctuation\">.</span><span class=\"token function\">executeUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> e<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ps <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span> ps<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span> c<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>λ‹¤μμΌλ΅ <code class=\"language-text\">ν΄λΌμ΄μ–ΈνΈ</code>μ—μ„ μ§μ ‘μ μΌλ΅ <code class=\"language-text\">μ „λµμ„ μƒμ„±, μ„ νƒ</code>ν•΄ μ‚¬μ©ν•λ” λ©”μ„λ“λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.<br>\nμ „λµμ„ μƒμ„±ν•κ³  μƒμ„±ν• μ „λµμ„ μ»¨ν…μ¤νΈμ— <code class=\"language-text\">DI</code> ν•΄μ¤λ‹λ‹¤.</p>\n<p><strong>4. ν΄λΌμ΄μ–ΈνΈ μ±…μ„μ„ λ‹΄λ‹Ήν•  deleteAll() λ©”μ†λ“</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">deleteAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">StatementStrategy</span> st <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DeleteAllStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">jdbcContextWithStatementStrategy</span><span class=\"token punctuation\">(</span>st<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>μ΄μ  κµ¬μ΅°λ΅ λ³Όλ•λ” μ™„λ²½ν• μ „λµ ν¨ν„΄μ λ¨μµμ„ λ§λ“¤μ—μµλ‹λ‹¤.</p>\n<h4 id=\"λ”-κ°μ„ ν• -μ \" style=\"position:relative;\"><a href=\"#%EB%8D%94-%EA%B0%9C%EC%84%A0%ED%95%A0-%EC%A0%90\" aria-label=\"λ” κ°μ„ ν•  μ  permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>λ” κ°μ„ ν•  μ </h4>\n<p>μ§€κΈμ κµ¬μ΅°λ΅λ” <code class=\"language-text\">DAO</code> λ©”μ†λ“λ§λ‹¤ μƒλ΅μ΄ <code class=\"language-text\">StatementStrategy</code> κµ¬ν„ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•©λ‹λ‹¤.</p>\n<p>ν•΄κ²° λ°©λ²•μ€ <code class=\"language-text\">μµλ… ν΄λμ¤</code> or <code class=\"language-text\">λλ‹¤</code>λ¥Ό ν™μ©ν•΄ λ¬Έμ μ μ„ ν•΄κ²°ν•  μ μμµλ‹λ‹¤.</p>\n<p><strong>λλ‹¤λ¥Ό ν™μ©ν• μμ </strong></p>\n<p>Java 8λ²„μ „μ—μ„ μ κ³µλλ” <code class=\"language-text\">λλ‹¤</code>λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ μΈν„°νμ΄μ¤λ” ν•λ‚μ μ¶”μƒ λ©”μ†λ“λ¥Ό κ°€μ§€λ” μΈν„°νμ΄μ¤λ΅ μ •μν•΄μ•Όν•©λ‹λ‹¤.</p>\n<p>μ„μ™€ κ°™μ΄ ν•λ‚μ μ¶”μƒ λ©”μ†λ“ κ°€μ§€λ” μΈν„°νμ΄μ¤λ¥Ό <code class=\"language-text\">ν•¨μν• μΈν„°νμ΄μ¤</code>λΌκ³  λ¶€λ¦…λ‹λ‹¤.</p>\n<p>μ¶”κ°€μ μΌλ΅ <code class=\"language-text\">@FunctionalInterface</code>λΌλ” μ–΄λ…Έν…μ΄μ…μ΄ μλ”λ°, ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ…μ‹μ μΌλ΅ μ»΄νμΌλ¬μ—κ² μ•λ ¤ ν•¨μν• μΈν„°νμ΄μ¤μ μ΅°κ±΄μ„ μ„λ°ν•λ©΄ μ»΄νμΌλ¬λ” μλ¬λ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.</p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@FunctionalInterface</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">StatementStrategy</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">PreparedStatement</span> <span class=\"token function\">makePreparedStatement</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Connection</span> c<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">deleteAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">jdbcContextWithStatementStrategy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Connection</span> c<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> c<span class=\"token punctuation\">.</span><span class=\"token function\">prepareStatement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delete from users\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"ν…ν”λ¦Ώκ³Ό-μ½λ°±\" style=\"position:relative;\"><a href=\"#%ED%85%9C%ED%94%8C%EB%A6%BF%EA%B3%BC-%EC%BD%9C%EB%B0%B1\" aria-label=\"ν…ν”λ¦Ώκ³Ό μ½λ°± permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ν…ν”λ¦Ώκ³Ό μ½λ°±</h2>\n<p>μ§€κΈκΉμ§€ λ§λ“  μ½”λ“λ” <code class=\"language-text\">μ „λµ ν¨ν„΄</code>μ΄ μ μ©λμ—λ‹¤κ³  λ§ν•  μ μμµλ‹λ‹¤.<br>\nμ„μ μ½”λ“λ“¤ μ²λΌ λ³µμ΅ν•μ§€λ§ λ°”λ€μ§€ μ•λ” μΌμ •ν• ν¨ν„΄μ„ κ°–λ” μ‘μ—… νλ¦„μ΄ μ΅΄μ¬ν•κ³  κ·Έμ¤‘ μΌλ¶€λ§ μμ£Ό λ°”κΏ”μ„ μ‚¬μ©ν•΄μ•Όν•λ” κ²½μ°μ— μ ν•©ν• κµ¬μ΅°μ…λ‹λ‹¤.</p>\n<p>μ „λµ ν¨ν„΄μ κΈ°λ³Έ κµ¬μ΅°μ— μµλ… λ‚΄λ¶€ ν΄λμ¤ , λλ‹¤λ¥Ό ν™μ©ν• λ°©μ‹μ„ μ¤ν”„λ§μ—μ„λ” <code class=\"language-text\">ν…ν”λ¦Ώ/μ½λ°±</code> ν¨ν„΄μ΄λΌκ³  λ¶€λ¦…λ‹λ‹¤.</p>\n<p>μ „λµ ν¨ν„΄μ μ»¨ν…μ¤νΈλ¥Ό <code class=\"language-text\">ν…ν”λ¦Ώ</code>μ΄λΌν•κ³  μµλ… ν΄λμ¤, λλ‹¤λ΅ λ§λ“¤μ–΄μ§€λ” μ¤λΈμ νΈλ¥Ό <code class=\"language-text\">μ½λ°±</code>μ΄λΌκ³  λ¶€λ¦…λ‹λ‹¤.</p>\n<h4 id=\"ν…ν”λ¦Ώμ½λ°±μ-λ™μ‘-λ°©μ‹\" style=\"position:relative;\"><a href=\"#%ED%85%9C%ED%94%8C%EB%A6%BF%EC%BD%9C%EB%B0%B1%EC%9D%98-%EB%8F%99%EC%9E%91-%EB%B0%A9%EC%8B%9D\" aria-label=\"ν…ν”λ¦Ώμ½λ°±μ λ™μ‘ λ°©μ‹ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ν…ν”λ¦Ώ/μ½λ°±μ λ™μ‘ λ°©μ‹</h4>\n<p><code class=\"language-text\">ν΄λΌμ΄μ–ΈνΈ</code>μ μ—­ν• μ€ ν…ν”λ¦Ώ μ•μ—μ„ μ‹¤ν–‰λ  λ΅μ§μ„ λ‹΄μ€ μ½λ°± μ¤λΈμ νΈλ¥Ό μƒμ„±ν•κ³  μ½λ°±μ΄ μ°Έμ΅°ν•  μ •λ³΄λ¥Ό μ κ³µν•©λ‹λ‹¤.</p>\n<p><code class=\"language-text\">ν…ν”λ¦Ώ</code>μ€ λ‚΄λ¶€μ—μ„ μƒμ„±ν• μ°Έμ΅° μ •λ³΄λ¥Ό κ°€μ§€κ³  μ½λ°± μ¤λΈμ νΈμ λ©”μ†λ“λ¥Ό νΈμ¶ν•©λ‹λ‹¤.<br>\nκ·Έ ν›„, μ½λ°±μ€ ν΄λΌμ΄μ–ΈνΈμ μ •λ³΄μ™€ λ©”μ†λ“λ¥Ό κ°€μ§€κ³  μ‘μ—…μ„ μν–‰ ν• λ’¤ λ‹¤μ‹ ν…ν”λ¦Ώμ—κ² κ²°κ³Όλ¥Ό λ°ν™ν•©λ‹λ‹¤.</p>\n<p><code class=\"language-text\">ν…ν”λ¦Ώ</code>μ€ μ½λ°±μ΄ λ°ν™ν• μ •λ³΄λ¥Ό κ°€μ§€κ³  μ‘μ—…μ„ λ§μ € μν–‰ν•©λ‹λ‹¤.<br>\nκ²½μ°μ— λ”°λΌ μµμΆ… κ²°κ³Όλ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² λ°ν™ν•©λ‹λ‹¤.</p>\n<h4 id=\"ν…ν”λ¦Ώμ½λ°±μ-μ‘μ©\" style=\"position:relative;\"><a href=\"#%ED%85%9C%ED%94%8C%EB%A6%BF%EC%BD%9C%EB%B0%B1%EC%9D%98-%EC%9D%91%EC%9A%A9\" aria-label=\"ν…ν”λ¦Ώμ½λ°±μ μ‘μ© permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ν…ν”λ¦Ώ/μ½λ°±μ μ‘μ©</h4>\n<p>μ¤ν”„λ§ κ°λ°μλΌλ©΄ <code class=\"language-text\">ν…ν”λ¦Ώ/μ½λ°±</code> κΈ°λ¥μ„ μ μ‚¬μ©ν•κ±°λ‚ ν•„μ”ν• κ³³μ΄ μμΌλ©΄ μ§μ ‘ λ§λ“¤μ–΄ μ‚¬μ©ν•  μ μμ–΄μ•Ό ν•λ‹¤κ³  ν•©λ‹λ‹¤.</p>\n<p>κ³ μ •λ μ‘μ—… νλ¦„μ„ κ°–κ³  μμΌλ©΄μ„ μ—¬λ¬ κ³³μ—μ„ μμ£Ό λ°λ³µλλ” μ½”λ“κ°€ μλ‹¤λ©΄, μ¤‘λ³µλλ” μ½”λ“λ¥Ό λ¶„λ¦¬ν•  λ°©λ²•μ„ μƒκ°ν•΄λ³΄λ” μµκ΄€μ„ κ°€μ§€λ©΄ μΆ‹μµλ‹λ‹¤.</p>\n<p>λ¨Όμ € <code class=\"language-text\">λ©”μ†λ“λ΅ λ¶„λ¦¬</code>ν•΄λ³΄κ³  μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ <code class=\"language-text\">μ „λµ ν¨ν„΄</code>μ„ μ μ©ν•΄ DIλ΅ μμ΅΄ κ΄€κ³„λ¥Ό κ΄€λ¦¬ν•λ„λ΅ λ§λ“­λ‹λ‹¤.<br>\nκ·Έλ°λ°, μ—¬κΈ°μ„ λ°”λ€λ” λ¶€λ¶„μ΄ ν• μ–΄ν”λ¦¬μΌ€μ΄μ… μ•μ—μ„ λ™μ‹μ— <code class=\"language-text\">μ—¬λ¬ μΆ…λ¥</code>λ΅ λ§λ“¤μ–΄ μ§ μ μλ‹¤λ©΄ μ΄λ²μ—” <code class=\"language-text\">ν…ν”λ¦Ώ/μ½λ°±</code> ν¨ν„΄μ„ μ μ©ν•  μ μμµλ‹λ‹¤.</p>\n<p>λ‹¤μ νμΌμ„ μ½μ–΄ μλ¥Ό λ”ν•κ±°λ‚ κ³±ν•λ” μμ λ¥Ό λ³΄κ³  λ” κΉκ² μ΄ν•΄ν•΄λ΄…μ‹λ‹¤ !</p>\n<p><strong>λ”ν•κΈ° λ©”μ†λ“</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Integer</span> <span class=\"token function\">calSum</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BufferedReader</span> br<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Integer</span> sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">String</span> line <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>line<span class=\"token operator\">==</span>br<span class=\"token punctuation\">.</span><span class=\"token function\">readline</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        sum <span class=\"token operator\">+=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// λ°”λ€λ” μ½”λ“</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> sum<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>κ³±ν•κΈ° λ©”μ†λ“</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Integer</span> <span class=\"token function\">calMultiply</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BufferedReader</span> br<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Integer</span> multiply <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">String</span> line <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>line<span class=\"token operator\">==</span>br<span class=\"token punctuation\">.</span><span class=\"token function\">readline</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        multiply <span class=\"token operator\">*=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// λ°”λ€λ” μ½”λ“</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> multiply<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>μ΅°κΈλ§ μ‚΄ν΄λ΄λ„ λ‘ μ½”λ“κ°€ μ•„μ£Ό μ μ‚¬ν•¨μ„ μ• μ μμµλ‹λ‹¤.</p>\n<ol>\n<li>κ²°κ³Όλ¥Ό μ €μ¥ν•  λ³€μλ¥Ό μ΄κΈ°ν™”</li>\n<li>BufferedReaderλ¥Ό μ΄μ©ν•΄ νμΌμ„ ν•μ¤„ ν•μ¤„ μ½μµλ‹λ‹¤.</li>\n<li>λ³€μμ— κ³„μ‚°ν• κ²°κ³Όλ¥Ό μ €μ¥ν•©λ‹λ‹¤.</li>\n<li>νμΌμ„ λ‹¤ μ½μ—μΌλ©΄ κ²°κ³Όλ¥Ό λ¦¬ν„΄ν•©λ‹λ‹¤.</li>\n</ol>\n<p>ν…ν”λ¦Ώκ³Ό μ½λ°±μ„ μ°Ύμ•„λ‚Όλ•λ” λ³€ν•λ” μ½”λ“μ κ²½κ³„λ¥Ό μ°Ύκ³  κ·Έ κ²½κ³„λ¥Ό μ‚¬μ΄μ— λ‘κ³  μ£Όκ³  λ°›λ” μΌμ •ν• μ •λ³΄κ°€ μλ”μ§€ ν™•μΈν•λ©΄ λ©λ‹λ‹¤.</p>\n<p>μ—¬κΈ°μ„ λ°”λ€λ” μ½”λ“λ” λ‹¨ ν•μ¤„μ…λ‹λ‹¤.</p>\n<p>λ°”λ€λ” μ½”λ“(μ½λ°±)μ„ μΈν„°νμ΄μ¤λ΅ μ •μν•©λ‹λ‹¤.</p>\n<p><strong>λΌμΈλ³„ μ‘μ—…μ„ μ •μν• μΈν„°νμ΄μ¤</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@FunctionalInterface</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">LineCallback</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Integer</span> <span class=\"token function\">doSomethingWithLine</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> line<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>LineCallbackμ„ μ‚¬μ©ν•λ” ν…ν”λ¦Ώ</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Integer</span> <span class=\"token function\">lineReadTemplate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> filepath<span class=\"token punctuation\">,</span> <span class=\"token class-name\">LineCallback</span> callback<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> initVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">BufferedReader</span> br <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">{</span>\n        br <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BufferedReader</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span>filepath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Integer</span> res <span class=\"token operator\">=</span> initVal<span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> line <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>line<span class=\"token operator\">==</span>br<span class=\"token punctuation\">.</span><span class=\"token function\">readline</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            res <span class=\"token operator\">=</span> callback<span class=\"token punctuation\">.</span><span class=\"token function\">doSomethingWithLine</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">finally</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>ν…ν”λ¦Ώμ„ μ‚¬μ©ν•λ„λ΅ μμ •ν• calSum() λ©”μ„λ“</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Integer</span> <span class=\"token function\">calSum</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> filepath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">LineCallback</span> sumCallback <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> value <span class=\"token operator\">+</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">lineReadTemplate</span><span class=\"token punctuation\">(</span>filepath<span class=\"token punctuation\">,</span> sumCallback<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"μ λ„¤λ¦­μ¤λ¥Ό-ν™μ©ν•-μ½λ°±-μΈν„°νμ΄μ¤\" style=\"position:relative;\"><a href=\"#%EC%A0%9C%EB%84%A4%EB%A6%AD%EC%8A%A4%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%BD%9C%EB%B0%B1-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4\" aria-label=\"μ λ„¤λ¦­μ¤λ¥Ό ν™μ©ν• μ½λ°± μΈν„°νμ΄μ¤ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>μ λ„¤λ¦­μ¤λ¥Ό ν™μ©ν• μ½λ°± μΈν„°νμ΄μ¤</h4>\n<p><code class=\"language-text\">μ λ„¤λ¦­</code>μ„ μ‚¬μ©ν•λ©΄ μΆ€ λ” κ°•λ ¥ν• <code class=\"language-text\">ν…ν”λ¦Ώ/μ½λ°±</code> κµ¬μ΅°λ¥Ό λ§λ“¤ μ μμµλ‹λ‹¤.</p>\n<p>μ„μ μμ λ” κ²°κ³Όκ°€ <code class=\"language-text\">Integer</code>λ΅ κ³ μ •λμ–΄ μμ§€λ§ <code class=\"language-text\">μ λ„¤λ¦­</code>μ„ μ‚¬μ©ν•λ©΄ λ‹¤μ–‘ν• μ¤λΈμ νΈλ¥Ό μ§€μ›ν•  μ μμµλ‹λ‹¤.</p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">LineCallback</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">T</span> <span class=\"token function\">doSomethingWithLine</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> line<span class=\"token punctuation\">,</span> <span class=\"token class-name\">T</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>","tableOfContents":"<ul>\n<li><a href=\"/category/spring/toby-spring/template-callback/#%EA%B0%9C%EC%9A%94\">κ°μ”</a></li>\n<li>\n<p><a href=\"/category/spring/toby-spring/template-callback/#%EB%B3%80%ED%95%98%EB%8A%94-%EA%B2%83%EA%B3%BC-%EB%B3%80%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83\">λ³€ν•λ” κ²ƒκ³Ό λ³€ν•μ§€ μ•λ” κ²ƒ</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/category/spring/toby-spring/template-callback/#%EC%9E%91%EC%97%85%EC%9D%98-%EB%B6%84%EB%A6%AC\">μ‘μ—…μ λ¶„λ¦¬</a></li>\n<li><a href=\"/category/spring/toby-spring/template-callback/#%EC%A0%84%EB%9E%B5-%ED%8C%A8%ED%84%B4%EC%9D%98-%EC%A0%81%EC%9A%A9\">μ „λµ ν¨ν„΄μ μ μ©</a></li>\n<li><a href=\"/category/spring/toby-spring/template-callback/#%EB%8D%94-%EA%B0%9C%EC%84%A0%ED%95%A0-%EC%A0%90\">λ” κ°μ„ ν•  μ </a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/category/spring/toby-spring/template-callback/#%ED%85%9C%ED%94%8C%EB%A6%BF%EA%B3%BC-%EC%BD%9C%EB%B0%B1\">ν…ν”λ¦Ώκ³Ό μ½λ°±</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/category/spring/toby-spring/template-callback/#%ED%85%9C%ED%94%8C%EB%A6%BF%EC%BD%9C%EB%B0%B1%EC%9D%98-%EB%8F%99%EC%9E%91-%EB%B0%A9%EC%8B%9D\">ν…ν”λ¦Ώ/μ½λ°±μ λ™μ‘ λ°©μ‹</a></li>\n<li><a href=\"/category/spring/toby-spring/template-callback/#%ED%85%9C%ED%94%8C%EB%A6%BF%EC%BD%9C%EB%B0%B1%EC%9D%98-%EC%9D%91%EC%9A%A9\">ν…ν”λ¦Ώ/μ½λ°±μ μ‘μ©</a></li>\n<li><a href=\"/category/spring/toby-spring/template-callback/#%EC%A0%9C%EB%84%A4%EB%A6%AD%EC%8A%A4%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%BD%9C%EB%B0%B1-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4\">μ λ„¤λ¦­μ¤λ¥Ό ν™μ©ν• μ½λ°± μΈν„°νμ΄μ¤</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"[ν† λΉ„μ μ¤ν”„λ§] 3. μ „λµ ν¨ν„΄κ³Ό ν…ν”λ¦Ώ/μ½λ°±μ— λ€ν•΄μ„","description":"Java, Spring ν…ν”λ¦Ώ/μ½λ°± ν¨ν„΄μ— λ€ν•΄μ„","date":"2020.06.23","emoji":"π“ƒ","category":"spring"}}},"pageContext":{"slug":"/category/spring/toby-spring/template-callback/","relatedPosts":[{"node":{"fields":{"slug":"/category/spring/toby-spring/aop/transaction-property/"},"frontmatter":{"title":"[ν† λΉ„μ μ¤ν”„λ§] 6-3. AOP - νΈλμ­μ… μ†μ„±","date":"2020.07.20","emoji":"π§©","category":"spring"}}},{"node":{"fields":{"slug":"/category/spring/toby-spring/aop/basic-concept/"},"frontmatter":{"title":"[ν† λΉ„μ μ¤ν”„λ§] 6-2. AOP - κΈ°λ³Έ μ©μ–΄","date":"2020.07.16","emoji":"π“™","category":"spring"}}},{"node":{"fields":{"slug":"/category/spring/toby-spring/aop/unit-test-and-proxy/"},"frontmatter":{"title":"[ν† λΉ„μ μ¤ν”„λ§] 6-1. AOP - λ‹¨μ„ ν…μ¤νΈμ™€ ν”„λ΅μ‹","date":"2020.07.11","emoji":"β„ΉοΈ","category":"spring"}}},{"node":{"fields":{"slug":"/category/spring/toby-spring/service-abstraction/mockup-test/"},"frontmatter":{"title":"[ν† λΉ„μ μ¤ν”„λ§] 5-2. λ‹¨μΌ μ±…μ„ μ›μΉ™κ³Ό ν…μ¤νΈ μ¶”μƒν™”","date":"2020.07.07","emoji":"β οΈ","category":"spring"}}},{"node":{"fields":{"slug":"/category/spring/toby-spring/service-abstraction/transaction/"},"frontmatter":{"title":"[ν† λΉ„μ μ¤ν”„λ§] 5-1. μ„λΉ„μ¤ μ¶”μƒν™”μ™€ νΈλμ­μ…","date":"2020.07.01","emoji":"π”®","category":"spring"}}}]}}}