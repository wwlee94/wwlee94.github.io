{"componentChunkName":"component---src-templates-post-tsx","path":"/category/blog/getting-started-utterances/","webpackCompilationHash":"32baafdbd3392368b93d","result":{"data":{"site":{"siteMetadata":{"title":"Blausee 기술 블로그","author":"wwlee94","siteUrl":"https://wwlee94.github.io"}},"markdownRemark":{"id":"3bccfb1d-e8e3-5270-8334-3dd159eadab4","excerpt":"…","html":"<h4>소셜 댓글 서비스란?</h4>\n<p>댓글을 직접 구현하지 않고 위젯의 형태로 서비스에 삽입할 수 있는 댓글 전문 서비스로 여러 개인 블로그에 사용됩니다.</p>\n<p>정적 사이트에 댓글 기능을 넣기 위한 가장 편리하고 간단한 방법이라고 할 수 있습니다.</p>\n<h4>어떤 서비스을 선택할까?</h4>\n<p>여러 서비스들을 알아보던 중 가장 많이 쓰이고 <code class=\"language-text\">SEO(검색엔진최적화)</code> 측면에서 유리한 <code class=\"language-text\">Disqus</code>라는 소셜 댓글 서비스를 찾았습니다.<br>\n<code class=\"language-text\">Disqus</code>의 경우는, <a href=\"https://hackya.com/kr/%EB%94%94%EC%8A%A4%EC%BB%A4%EC%8A%A4-%EB%8C%93%EA%B8%80%EC%9D%98-%EB%86%80%EB%9D%BC%EC%9A%B4-seo-%ED%98%9C%ED%83%9D/\">댓글을 남기는 사람에게 SEO 혜택이 돌아가는 구조</a> 로 구성되어 있고 유명한 서비스에 고품질의 백링크를 얻을 수 있다는 장점이 있었습니다.</p>\n<blockquote>\n<p>백링크란? 다른 사이트에서 내 사이트가 링크된 것</p>\n</blockquote>\n<p>하지만, <code class=\"language-text\">Disqus</code> 위젯이 정적인 사이트에서 돌아감에도 무겁다는 후기가 있어서 다른 서비스를 서칭하던 도중 <code class=\"language-text\">utterances</code>라는 또 다른 소셜 댓글 서비스를 찾았습니다.<br>\n<code class=\"language-text\">Disqus</code>에 비해 가볍고 깔끔한 UI와 거대한 <code class=\"language-text\">GitHub</code> 플랫폼 계정과 연동 가능하고 댓글 알림 기능까지 제공해주어 저는 <code class=\"language-text\">utterances</code>를 선택하게 되었습니다 !</p>\n<h2>그렇다면 utterances 위젯을 도입해보자 !</h2>\n<div class=\"custom-block notice\"><div class=\"custom-block-heading\">utterances 설치 전에</div><div class=\"custom-block-body\"><p>먼저 GitHub Repo를 생성해주고 따라와주세요 !<br>\n저는 이슈 받을 Repo와 블로그 Repo를 동일하게 지정하였습니다.</p></div></div>\n<h3>1. utterances app 을 설치합니다.</h3>\n<p><strong><a href=\"https://utteranc.es\">https://utteranc.es</a></strong> 에 접속해 깃 레퍼지토리를 utterances와 연동해줍니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.09289617486339%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABMUlEQVQoz51SCW6DMBDk/0/sEXJAOQw2YNxyT3ccSIPSSm1XGu3hZbyeJZimCedLhNdDiKfnF1RVDdqyLP9CQMKiKJFmGeq6AfPv7NeEwzDiEIY4ns5oGot5njEMg8c4jt6z9pOR5D4O2MxnllrLpAWyXMm0OTKCcXqdvOu6L/S9930/PE5I5rZtEcdvSNJUCFLJLZzUOLEVT1RVJXkj5LWv0zvnHqb1hJUchuERSSKE+h2l9Gm3oJYPjTGwVkitvRE1a0xobWDkMspDC8jKJ5PwEsXQpoYqDZJM+WY+XanCIxcJuED6XF1j1tm3ezIJqQuNmnLT2zJ4M8HahnGcdvm2tBshR49EQyVLoY5m/Rf/YrsJnRPdSu211EbEF83a1nntNq225RA8t+vSPmTb94SfYbAJD5YzH9gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"설정 화면 1\"\n        title=\"설정 화면 1\"\n        src=\"/static/91758221954673565daf5787b0691a16/a8200/configuration-1.png\"\n        srcset=\"/static/91758221954673565daf5787b0691a16/52d5c/configuration-1.png 175w,\n/static/91758221954673565daf5787b0691a16/1bae2/configuration-1.png 350w,\n/static/91758221954673565daf5787b0691a16/a8200/configuration-1.png 700w,\n/static/91758221954673565daf5787b0691a16/0ab52/configuration-1.png 1050w,\n/static/91758221954673565daf5787b0691a16/fa92b/configuration-1.png 1400w,\n/static/91758221954673565daf5787b0691a16/c236c/configuration-1.png 1464w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n      />\n    </span></p>\n<p>저는 모든 레퍼지토리에 대해서 연동할 필요는 없으므로 <code class=\"language-text\">블로그</code>를 위한 깃 레퍼지토리만 허용 해주었습니다.</p>\n<h3>2. Blog Post ↔️ Issue Mapping 방식 선택</h3>\n<p>utterances는 게시글 하나에 래퍼지토리의 이슈 하나가 연동되는 시스템입니다.<br>\n따라서, 게시글(Posts)와 지퍼지토리의 이슈(Issue)를 어떻게 매핑할 것인지 선택 해야합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.81521739130434%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2UlEQVQ4y22UiXKDMAxE+f8/bJs2CTfhvjEBtlqDIWTCzEby/SzJsaZpgu048IMQcZwgCCM4jgvHdcGx929Zlo9tWsrioiAIEEaRlu8HenPaNMuQ5wWSJEWSpmjb9rT4kyz5Ra8mtF2Pvu/FdujEdmKbpoFSCvM8f6T9RG/RKboZX5crbrc7fi6/uPz+aX19X4T6gaKskBclMqElcZbn0j78pmkxG8I1BguyLEdVN5pEqRFqHDEMShNXdY1axriQqoW8aWnXNn2u2wkHuZYtiQjCUJLhwfN8bXllnszJ5trTNK/+3p5OidGEnPSQDFO8YvSId8WSECMzJ0kzLfoMx/P5PMdQbYS+ZNvWJePhbjsoq3WyCYGx47j1yTr6JmE7Ia8QxwfFqzU0lG6LMimndCOsqvq8oSEkkSe1R0tKWyyLm2Ov6tSMVi0Sd5Ie1Mtrlhlgnp5uFCZOOyXHpArYF6UVgqQWP9eFn2393JjfTuh6nsjXT4+Wp/MqwxvhqAatYRjQi9h3enpsMLCaZsvyY8swn5teNK4JODYfdT/r1Gx4iiFprjdbdN/1d71JPN09+MlbgnhVvhKTLEKxHC2DWsjTYk2VkrVc++X+3LiAfwyGctdw+KwU7vMPt/2DlnVkI60AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"설정 화면 3\"\n        title=\"설정 화면 3\"\n        src=\"/static/65e0a2e8469b7d51ec8c2ef6f428b614/a8200/configuration-3.png\"\n        srcset=\"/static/65e0a2e8469b7d51ec8c2ef6f428b614/52d5c/configuration-3.png 175w,\n/static/65e0a2e8469b7d51ec8c2ef6f428b614/1bae2/configuration-3.png 350w,\n/static/65e0a2e8469b7d51ec8c2ef6f428b614/a8200/configuration-3.png 700w,\n/static/65e0a2e8469b7d51ec8c2ef6f428b614/0ab52/configuration-3.png 1050w,\n/static/65e0a2e8469b7d51ec8c2ef6f428b614/fa92b/configuration-3.png 1400w,\n/static/65e0a2e8469b7d51ec8c2ef6f428b614/cef07/configuration-3.png 1472w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n      />\n    </span></p>\n<p>매핑 종류는 총 6가지로 각자 원하는 블로그 구조에 맞게 선택하여 진행하면 됩니다.</p>\n<p>저는 1번 <code class=\"language-text\">Pathname</code>을 선택했습니다.</p>\n<ol>\n<li>\n<p>Pathname</p>\n<ul>\n<li>포스트의 <code class=\"language-text\">pathname</code>으로 이슈를 생성합니다.<br>\nEx) posts/{포스팅 이름}</li>\n</ul>\n</li>\n</ol>\n<h3>3. utterances 설정 코드 적용하기</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.3402489626556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACU0lEQVQ4y6VUbXKbMBT0YXuhHqKn6M9eoB3/yCT2JAZjAzYgEAjEl7dvhaHORydpqplFQkir3feeWFnbIowi7IMD8qLAR9vlcnk1Zr9q2xan0xlRHCNJUxRaI1MKishzh1yQZQqFHJimGSpjXhEthHxwcXw6IYpiaF2ChzRN42CtdWjmXua6rnOb38KKzEWh8bTzcD4nz6z8a1sUUtVJyDKVOyRiS+WFU651gaoyKAXG1CjL6hm4V5clalG+ELZigZu0LKBat8gt1Ohag2EY3sU4jhNhLy/HY4i6rvG/bSLse5cMl0XJMDNJlQTLSOtbxeX0zc1JL47SakReMUlXhcwY6/AgKpkUKq3rxsVkGdfTeM7y/K2RGjbtCGOHP4SDeFeSCCaFi9l4CGPyQaOvLWdZ5kgJWmKQPx1DXr3Hpx12nudq0fP3S3FPluvFMvu52BfrAlYIRVyvnsQwjNz1Y7YjiWdwOOAYhgiCqff3ezee7nwg74HE/DjNy9pcanZ2tRqGUbJVOuiyhtIcG+RaalIbqKISlKKohZXD68bCUKk4I6xlvC/ohYdcK75okZzmGv6jwt0mxPohwK97Hw+7CFsvRpxq2UyyzvUvUcthRNcPU5Zt20t8OvjbAvfbED/vJJbHRJS0EsveqaCaeeNLzKQ9CVkenKiMFcIcvpdhFyTYeJGorpbFbym7VVjJ4V03TJaVVH2YnKVsjFNjr6r+pugWhlalboFewBhKqklKXNxYgnvF+A6YCBb2+tDiyzeFH5tm+tt8/mcw9V7S4uv3BOugwW+mtxEK4io7rAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"설정 화면 4\"\n        title=\"설정 화면 4\"\n        src=\"/static/33453699fa792e72af3dfde6956399ae/a8200/configuration-4.png\"\n        srcset=\"/static/33453699fa792e72af3dfde6956399ae/52d5c/configuration-4.png 175w,\n/static/33453699fa792e72af3dfde6956399ae/1bae2/configuration-4.png 350w,\n/static/33453699fa792e72af3dfde6956399ae/a8200/configuration-4.png 700w,\n/static/33453699fa792e72af3dfde6956399ae/0ab52/configuration-4.png 1050w,\n/static/33453699fa792e72af3dfde6956399ae/fa92b/configuration-4.png 1400w,\n/static/33453699fa792e72af3dfde6956399ae/d9fb9/configuration-4.png 1446w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n      />\n    </span></p>\n<p>각자 원하는 <code class=\"language-text\">Label (깃 이슈 라벨)</code> 명칭과 <code class=\"language-text\">Theme (테마)</code>을 선택하고 <code class=\"language-text\">Copy</code> 버튼을 클릭하여 댓글이 들어가길 원하는 위치에 붙여 넣어 주면 됩니다.</p>\n<h3>만약 React를 사용한다면?</h3>\n<p>다음과 같은 <code class=\"language-text\">Utterances</code> 컴포넌트를 작성합니다.</p>\n<div class=\"gatsby-code-title\">Utterances.tsx</div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> createRef<span class=\"token punctuation\">,</span> useLayoutEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> <span class=\"token string\">'https://utteranc.es/client.js'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">IUtterancesProps</span> <span class=\"token punctuation\">{</span>\n  repo<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  theme<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> Utterances<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>IUtterancesProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">memo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> repo<span class=\"token punctuation\">,</span> theme <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> containerRef <span class=\"token operator\">=</span> createRef<span class=\"token operator\">&lt;</span>HTMLDivElement<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useLayoutEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> utterances <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> attributes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      src<span class=\"token punctuation\">,</span>\n      repo<span class=\"token punctuation\">,</span>\n      theme<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'issue-term'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'pathname'</span><span class=\"token punctuation\">,</span>\n      label<span class=\"token punctuation\">:</span> <span class=\"token string\">'✨💬 comments ✨'</span><span class=\"token punctuation\">,</span>\n      crossOrigin<span class=\"token punctuation\">:</span> <span class=\"token string\">'anonymous'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">async</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>attributes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      utterances<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    containerRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">!</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>utterances<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>repo<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>containerRef<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nUtterances<span class=\"token punctuation\">.</span>displayName <span class=\"token operator\">=</span> <span class=\"token string\">'Utterances'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Utterances<span class=\"token punctuation\">;</span></code></pre></div>\n<p>이후에 <code class=\"language-text\">Utterances</code> 컴포넌트를 호출하여 원하는 위치에 삽입하면 끝 !</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token operator\">...</span>\n<span class=\"token operator\">&lt;</span>Utterances repo<span class=\"token operator\">=</span><span class=\"token string\">'wwlee94/wwlee94.github.io'</span> theme<span class=\"token operator\">=</span><span class=\"token string\">'github-light'</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<h4>결과 화면</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.205619412515965%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAz0lEQVQoz5WRyQ7CIBCGef+n8ubBxOjFgwcvJm5pbIGyDAV+BxqNJlqV8GVYhp9ZBHhIqdC2HXpjoLRmekilYK3l24x/hthtD/BEVUT3lq2BsR7GOFjnQTSAwg+wXxgiRNv0NbIaZadwbeXDwVOA97/hmPJOlDADL0L9KSDGyFlmniNjyp8pPimnSkwJIqfpGuUn8Xe8OnMNy6HWY9p3rHNcQ4uBa/JNzA+E+WGJ2X6OvTyOgqWbzpcGUG1QtbyPMU0L8qQYsLpssDitcTYNbgRyJLKfCcP7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"설정 화면 4\"\n        title=\"설정 화면 4\"\n        src=\"/static/98e90c47e79cdfd486fe315fb9ed17a7/a8200/result.png\"\n        srcset=\"/static/98e90c47e79cdfd486fe315fb9ed17a7/52d5c/result.png 175w,\n/static/98e90c47e79cdfd486fe315fb9ed17a7/1bae2/result.png 350w,\n/static/98e90c47e79cdfd486fe315fb9ed17a7/a8200/result.png 700w,\n/static/98e90c47e79cdfd486fe315fb9ed17a7/0ab52/result.png 1050w,\n/static/98e90c47e79cdfd486fe315fb9ed17a7/fa92b/result.png 1400w,\n/static/98e90c47e79cdfd486fe315fb9ed17a7/7d252/result.png 1566w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n      />\n    </span></p>\n<p>궁금한 사항이 있으시면 댓글로 남겨주세요 !\n긴 글 봐주셔서 감사합니다 🙇🏻‍♂️</p>\n<h4>참고 문서</h4>\n<p><a href=\"https://blueshw.github.io/2020/05/20/disqus-to-utterances\">Disqus의 리소스 </a><br>\n<a href=\"https://imch.dev/posts/build-a-blog-with-gatsby-and-typescript-part-4\">Gatsby에 utterances 도입하기</a></p>","frontmatter":{"title":"Gatsby 블로그 - utterances 소셜 댓글 기능 도입하기","description":"","date":"2020.06.07","emoji":"💬","category":"blog"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/category/blog/getting-started-utterances/","relatedPosts":[{"node":{"fields":{"slug":"/category/blog/performance-comparison-prisma-typeorm/"},"frontmatter":{"title":"Prisma와 TypeORM은 성능에 어떤 차이가 있을까?","date":"2020.06.09","emoji":"⁉️","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/getting-started-markdown/"},"frontmatter":{"title":"마크다운 (Markdown) 문법 알아보기","date":"2020.06.04","emoji":"📋","category":"blog"}}}]}}}