{"componentChunkName":"component---src-templates-post-tsx","path":"/category/blog/spring-jpa-n+1-query/","result":{"data":{"site":{"siteMetadata":{"title":"Blausee ê¸°ìˆ  ë¸”ë¡œê·¸","author":"wwlee94","siteUrl":"https://wwlee94.github.io"}},"markdownRemark":{"id":"dead7296-852a-5b0d-b270-74c9f8fad902","excerpt":"ê°œìš” í‰ì†Œ Spring í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí•˜ë©° 1:N ê´€ê³„ë¥¼ ê°–ëŠ” ì—”í‹°í‹° í´ë˜ìŠ¤ë¥¼ ì‘ì„±í• ë•Œ ì•„ë¬´ëŸ° ì˜ì‹¬ì—†ì´ ë¥¼ ì‰½ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë˜ ì¤‘, ìŠ¤í”„ë§ ìŠ¤í„°ë””ì—ì„œ N+1 ì¿¼ë¦¬ ë¬¸ì œì— ëŒ€í•œ ì´ì•¼ê¸°ê°€ ë‚˜ì™”ê³  ê°œì¸ í”„ë¡œì íŠ¸ì—ì„œ í™•ì¸í•´ ë´¤ë”ë‹ˆ 1:Nâ€¦","html":"<h2 id=\"ê°œìš”\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"ê°œìš” permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°œìš”</h2>\n<p>í‰ì†Œ Spring í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí•˜ë©° 1:N ê´€ê³„ë¥¼ ê°–ëŠ” ì—”í‹°í‹° í´ë˜ìŠ¤ë¥¼ ì‘ì„±í• ë•Œ ì•„ë¬´ëŸ° ì˜ì‹¬ì—†ì´ <code class=\"language-text\">JPA</code>ë¥¼ ì‰½ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.<br>\nê·¸ëŸ¬ë˜ ì¤‘, ìŠ¤í”„ë§ ìŠ¤í„°ë””ì—ì„œ N+1 ì¿¼ë¦¬ ë¬¸ì œì— ëŒ€í•œ ì´ì•¼ê¸°ê°€ ë‚˜ì™”ê³  ê°œì¸ í”„ë¡œì íŠ¸ì—ì„œ í™•ì¸í•´ ë´¤ë”ë‹ˆ</p>\n<p><strong>1:N ê´€ê³„ë¥¼ ê°–ëŠ” ì—”í‹°í‹°ì˜ í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œë§ˆë‹¤ ì—„ì²­ë‚œ ì¿¼ë¦¬ê°€ ë°œìƒí•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤</strong></p>\n<p>ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” <code class=\"language-text\">Spring JPA</code>ë¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ ì‰½ê²Œ ë§ˆì£¼í•  ìˆ˜ ìˆëŠ” <code class=\"language-text\">N+1 ì¿¼ë¦¬</code>ì— ëŒ€í•´ ì›ì¸ê³¼ í•´ê²° ë°©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê³ <br>\n<code class=\"language-text\">N+1 ì¿¼ë¦¬</code> ì›ì¸ì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ë©´ì„œ <code class=\"language-text\">JPA</code>ì˜ ê¸€ë¡œë²Œ íŒ¨ì¹˜ ì „ëµì¸ <code class=\"language-text\">LAZY</code> ë°©ì‹ê³¼ <code class=\"language-text\">EAGER</code> ë°©ì‹ì´ ì–´ë–»ê²Œ ë‹¤ë¥´ê²Œ ë™ì‘í•˜ëŠ”ì§€ë„ í•¨ê»˜ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<h2 id=\"n1-ì¿¼ë¦¬-ë¬¸ì œëŠ”-ì–¸ì œ-ë°œìƒí• ê¹Œ-\" style=\"position:relative;\"><a href=\"#n1-%EC%BF%BC%EB%A6%AC-%EB%AC%B8%EC%A0%9C%EB%8A%94-%EC%96%B8%EC%A0%9C-%EB%B0%9C%EC%83%9D%ED%95%A0%EA%B9%8C-\" aria-label=\"n1 ì¿¼ë¦¬ ë¬¸ì œëŠ” ì–¸ì œ ë°œìƒí• ê¹Œ  permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>N+1 ì¿¼ë¦¬ ë¬¸ì œëŠ” ì–¸ì œ ë°œìƒí• ê¹Œ ?</h2>\n<p>ë°œìƒí•˜ëŠ” ê²½ìš°ëŠ” ë‹¤ìŒê³¼ ê°™ì€ 2ê°€ì§€ ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë‘ ê°œì˜ ì—”í‹°í‹°ê°€ <code class=\"language-text\">1:N</code> ê´€ê³„ë¥¼ ê°€ì§€ë©° <code class=\"language-text\">JPQL</code>ë¡œ ê°ì²´ë¥¼ ì¡°íšŒí•  ë•Œ</p>\n<ol>\n<li><code class=\"language-text\">EAGER</code> ì „ëµìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°</li>\n<li><code class=\"language-text\">LAZY</code> ì „ëµìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ ì´í›„ì— ê°€ì ¸ì˜¨ ë°ì´í„°ì—ì„œ í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ë‹¤ì‹œ ì¡°íšŒí•˜ëŠ” ê²½ìš°</li>\n</ol>\n<p>ì˜ˆì œë¥¼ í†µí•´ ì‚´í´ë´…ì‹œë‹¤ !</p>\n<div class=\"custom-block info\"><div class=\"custom-block-heading\">JPQLì´ë€ ?</div><div class=\"custom-block-body\"><p>JPQLì´ë€ í”Œë«í¼ì— ë…ë¦½ì ì¸ ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ì…ë‹ˆë‹¤.<br>\nìë°” ì½”ë“œì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•  ë•Œ íŠ¹ì • SQLì´ë‚˜ ì €ì¥ ì—”ì§„ì— ì¢…ì†ë˜ì§€ ì•Šê²Œ ë„ì™€ì¤ë‹ˆë‹¤.</p></div></div>\n<h2 id=\"n1-ì¿¼ë¦¬-ì˜ˆì œ\" style=\"position:relative;\"><a href=\"#n1-%EC%BF%BC%EB%A6%AC-%EC%98%88%EC%A0%9C\" aria-label=\"n1 ì¿¼ë¦¬ ì˜ˆì œ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>N+1 ì¿¼ë¦¬ ì˜ˆì œ</h2>\n<h4 id=\"ì—”í‹°í‹°-ëª¨ë¸ë§\" style=\"position:relative;\"><a href=\"#%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81\" aria-label=\"ì—”í‹°í‹° ëª¨ë¸ë§ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì—”í‹°í‹° ëª¨ë¸ë§</h4>\n<p><strong>Album Model</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Album</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> albumTitle<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> locales<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// @OneToMany(mappedBy = \"album\", cascade = CascadeType.ALL, fetch = FetchType.EAGER) // 2ë²ˆ ìƒí™©</span>\n    <span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"album\"</span><span class=\"token punctuation\">,</span> cascade <span class=\"token operator\">=</span> <span class=\"token class-name\">CascadeType</span><span class=\"token punctuation\">.</span>ALL<span class=\"token punctuation\">,</span> fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>LAZY<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 1ë²ˆ ìƒí™©</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Song</span><span class=\"token punctuation\">></span></span> songs <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>Song Model</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Song</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> title<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> track<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> length<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToOne</span><span class=\"token punctuation\">(</span>fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>LAZY<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"album_id\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Album</span> album<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"í•˜ìœ„-ì—”í‹°í‹°ë¥¼-ì¡°íšŒí•˜ì§€-ì•ŠëŠ”-ê²½ìš°\" style=\"position:relative;\"><a href=\"#%ED%95%98%EC%9C%84-%EC%97%94%ED%8B%B0%ED%8B%B0%EB%A5%BC-%EC%A1%B0%ED%9A%8C%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%BD%EC%9A%B0\" aria-label=\"í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ì§€ ì•ŠëŠ” ê²½ìš° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ì§€ ì•ŠëŠ” ê²½ìš°</h4>\n<p><strong>Albumì˜ Songì— ì ‘ê·¼í•˜ì§€ ì•Šì€ ê²½ìš°</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> N1_ì¿¼ë¦¬í…ŒìŠ¤íŠ¸<span class=\"token function\">_1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Album</span><span class=\"token punctuation\">></span></span> albums <span class=\"token operator\">=</span> albumRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"lazy-ë°©ì‹-ê²°ê³¼\" style=\"position:relative;\"><a href=\"#lazy-%EB%B0%A9%EC%8B%9D-%EA%B2%B0%EA%B3%BC\" aria-label=\"lazy ë°©ì‹ ê²°ê³¼ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAZY ë°©ì‹ ê²°ê³¼</h4>\n<p>í•˜ìœ„ ì—”í‹°í‹°ì— ì ‘ê·¼í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— <code class=\"language-text\">Album</code>ë§Œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 2.2857142857142856%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAP0lEQVQI1x2J2wkAQQgDrygXdVd8gP23lEM/AjOTz8zw3sM5B92NcXffTb/3QlWRmevTiQgRgaqCiCzPx8z4AUogIfEqUBzIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LAZY ë°©ì‹\"\n        title=\"LAZY ë°©ì‹\"\n        src=\"/static/5ededfa60eaa01b673c0709e2d89c049/8c557/lazy_1.png\"\n        srcset=\"/static/5ededfa60eaa01b673c0709e2d89c049/4edbd/lazy_1.png 175w,\n/static/5ededfa60eaa01b673c0709e2d89c049/13ae7/lazy_1.png 350w,\n/static/5ededfa60eaa01b673c0709e2d89c049/8c557/lazy_1.png 700w,\n/static/5ededfa60eaa01b673c0709e2d89c049/e996b/lazy_1.png 1050w,\n/static/5ededfa60eaa01b673c0709e2d89c049/2cefc/lazy_1.png 1400w,\n/static/5ededfa60eaa01b673c0709e2d89c049/f238d/lazy_1.png 2078w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h4 id=\"eager-ë°©ì‹-ê²°ê³¼\" style=\"position:relative;\"><a href=\"#eager-%EB%B0%A9%EC%8B%9D-%EA%B2%B0%EA%B3%BC\" aria-label=\"eager ë°©ì‹ ê²°ê³¼ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>EAGER ë°©ì‹ ê²°ê³¼</h4>\n<p><strong>N+1 ë°œìƒ !</strong></p>\n<p><code class=\"language-text\">JPQL</code>ì—ì„œ ë™ì‘í•œ ì¿¼ë¦¬ë¥¼ í†µí•´ì„œ <code class=\"language-text\">Album</code>ì— ë°ì´í„°ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.<br>\nê·¸ ì´í›„ <code class=\"language-text\">JPA</code>ì—ì„œëŠ” ê¸€ë¡œë²Œ íŒ¨ì¹˜ ì „ëµ(<code class=\"language-text\">Eager</code>ë¡œë”©)ì„ ë³´ê³  <code class=\"language-text\">Album</code>ì˜ <code class=\"language-text\">Song</code> ëŒ€í•´ì„œ ì¶”ê°€ì ì¸ ë¡œë”© ì‘ì—…ì„ ì§„í–‰í•´ <code class=\"language-text\">N+1 ë¬¸ì œ</code>ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.142857142857142%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAc0lEQVQY01WPSQ7AMAgD+VRO2bf/P4lqkFy1h8jjYAixtZaPMbz37l8+54TKt9ZC55zBtdao4TlwSskNo4a9dwwVo3iaNZBGuJQSrBxK3QANZSs8wXvvL6ijLANhesijPGzaTgGKYn0LD2tTfM75fYB76QPtVIs53/n24QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"EAGER ë°©ì‹\"\n        title=\"EAGER ë°©ì‹\"\n        src=\"/static/ed00f430126589211d379f6a7759143d/8c557/eager_1.png\"\n        srcset=\"/static/ed00f430126589211d379f6a7759143d/4edbd/eager_1.png 175w,\n/static/ed00f430126589211d379f6a7759143d/13ae7/eager_1.png 350w,\n/static/ed00f430126589211d379f6a7759143d/8c557/eager_1.png 700w,\n/static/ed00f430126589211d379f6a7759143d/e996b/eager_1.png 1050w,\n/static/ed00f430126589211d379f6a7759143d/2cefc/eager_1.png 1400w,\n/static/ed00f430126589211d379f6a7759143d/5b2ff/eager_1.png 2190w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"í•˜ìœ„-ì—”í‹°í‹°ë¥¼-ì¡°íšŒí•˜ëŠ”-ê²½ìš°\" style=\"position:relative;\"><a href=\"#%ED%95%98%EC%9C%84-%EC%97%94%ED%8B%B0%ED%8B%B0%EB%A5%BC-%EC%A1%B0%ED%9A%8C%ED%95%98%EB%8A%94-%EA%B2%BD%EC%9A%B0\" aria-label=\"í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ëŠ” ê²½ìš° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ëŠ” ê²½ìš°</h2>\n<p><code class=\"language-text\">Lazy</code> ë¡œë”©ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” í•´ë‹¹ <code class=\"language-text\">Entity</code> ê°€ ì˜ì† ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤.<br>\në³´í†µ <code class=\"language-text\">Repository</code> ì—ì„œ ë¦¬ìŠ¤íŠ¸ë¡œ ê°€ì ¸ì˜¤ë©´ ì˜ì†ì´ ëŠê¸´ ìƒíƒœë¡œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— <code class=\"language-text\">Lazy</code> ì „ëµ í…ŒìŠ¤íŒ… ì‹œ <code class=\"language-text\">@Transactional</code> ê¼­ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤ !</p>\n<p><code class=\"language-text\">@Transactional</code>ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 19.428571428571427%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAzklEQVQY0zWP0W6DMAxF+ZwVCF1jB0IIVG0nVaMtZRv//yt3N9n6cGTLsY9uisv7ATdr8UluVnJ/PdhcZ+0wuIhRBwQJOGmL2XucRXDc79GaBmIMHJG6JgZF3zT4EsWmDncKH/LHpoqVs8V5LBTfxeHhWpynCdM4Ig4DYgjwzqGhzFRVpvAUrv/Cmale0h/VLN3Yr6wffY8TiTHiSGnHpJb7FSVvux3Kssxk4ZNH3zx6fTtJU+o0W1Ji1mvb4UJhSMnISHGqjm/CnZopk/AXn1CEbHXpJBkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"í”„ë¡ì‹œ ì—ëŸ¬\"\n        title=\"í”„ë¡ì‹œ ì—ëŸ¬\"\n        src=\"/static/922868e893bb9f17fc4d75c22953f61c/8c557/proxy_error.png\"\n        srcset=\"/static/922868e893bb9f17fc4d75c22953f61c/4edbd/proxy_error.png 175w,\n/static/922868e893bb9f17fc4d75c22953f61c/13ae7/proxy_error.png 350w,\n/static/922868e893bb9f17fc4d75c22953f61c/8c557/proxy_error.png 700w,\n/static/922868e893bb9f17fc4d75c22953f61c/e996b/proxy_error.png 1050w,\n/static/922868e893bb9f17fc4d75c22953f61c/2cefc/proxy_error.png 1400w,\n/static/922868e893bb9f17fc4d75c22953f61c/42267/proxy_error.png 2670w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><strong>Albumì˜ Songì— ì ‘ê·¼í•˜ëŠ” ê²½ìš°</strong></p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token annotation punctuation\">@Transactional</span> <span class=\"token comment\">// í…ŒìŠ¤íŒ…ì—ì„œ LAZY ì „ëµì‹œ í•„ìˆ˜</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> N1_ì¿¼ë¦¬í…ŒìŠ¤íŠ¸<span class=\"token function\">_2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Album</span><span class=\"token punctuation\">></span></span> albums <span class=\"token operator\">=</span> albumRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Album</span> album <span class=\"token operator\">:</span> albums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>album<span class=\"token punctuation\">.</span><span class=\"token function\">getSongs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Songì— ì ‘ê·¼ !</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"lazy-ë°©ì‹-ê²°ê³¼-1\" style=\"position:relative;\"><a href=\"#lazy-%EB%B0%A9%EC%8B%9D-%EA%B2%B0%EA%B3%BC-1\" aria-label=\"lazy ë°©ì‹ ê²°ê³¼ 1 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAZY ë°©ì‹ ê²°ê³¼</h4>\n<p><strong>N+1 ë°œìƒ !</strong></p>\n<p>ì²˜ìŒì—” <code class=\"language-text\">Album</code> ë¦¬ìŠ¤íŠ¸ë§Œ ì¡°íšŒí–ˆì§€ë§Œ <code class=\"language-text\">Album</code> ì—”í‹°í‹°ì—ì„œ í•˜ìœ„ ì—”í‹°í‹°ì¸ <code class=\"language-text\">Song</code> ì—”í‹°í‹°ë¡œ ì ‘ê·¼í–ˆê¸° ë•Œë¬¸ì— Lazy ë¡œë”©ì´ ì¼ì–´ë‚˜ë©´ì„œ <code class=\"language-text\">N+1 ë¬¸ì œ</code> ë°œìƒ\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.57142857142858%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAz0lEQVQoz2WRWQ6DQAxDuRI7Yh1A4v43CnqWXKXth5VlEo+TVOd5RikljuOI67pi3/dYlkUxFqzrGvM8y9+2TT4gD8jx1jRNVJBBBMF93ypo2zaGYfiyXdcJfd8rphmfd/JYYhFmlQBSlPIzoNBkJoCUeBzHjyUvQgABY0zTpCZbF2bSTPinkDFR6P15JI9qgjyyCf1hVlpBwpi/No+eD4APmfeaFWpklKES+zyPfF+aIgj4HbAGYJXO5RVJoXfIAUjWda0GLumLGo6pscpsXx14CZCWTADAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LAZY ë°©ì‹2\"\n        title=\"LAZY ë°©ì‹2\"\n        src=\"/static/a862e7a46a9b1e5d0c728276a25b79ec/8c557/lazy_2.png\"\n        srcset=\"/static/a862e7a46a9b1e5d0c728276a25b79ec/4edbd/lazy_2.png 175w,\n/static/a862e7a46a9b1e5d0c728276a25b79ec/13ae7/lazy_2.png 350w,\n/static/a862e7a46a9b1e5d0c728276a25b79ec/8c557/lazy_2.png 700w,\n/static/a862e7a46a9b1e5d0c728276a25b79ec/e996b/lazy_2.png 1050w,\n/static/a862e7a46a9b1e5d0c728276a25b79ec/2cefc/lazy_2.png 1400w,\n/static/a862e7a46a9b1e5d0c728276a25b79ec/a7115/lazy_2.png 2186w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h4 id=\"eager-ë°©ì‹-ê²°ê³¼-1\" style=\"position:relative;\"><a href=\"#eager-%EB%B0%A9%EC%8B%9D-%EA%B2%B0%EA%B3%BC-1\" aria-label=\"eager ë°©ì‹ ê²°ê³¼ 1 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>EAGER ë°©ì‹ ê²°ê³¼</h4>\n<p><strong>N+1 ë°œìƒ !</strong></p>\n<p><code class=\"language-text\">í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ì§€ ì•ŠëŠ” ê²½ìš°</code>ì˜ <code class=\"language-text\">Eager</code> ë°©ì‹ ê²°ê³¼ì™€ ë™ì¼í•˜ê²Œ <code class=\"language-text\">N+1 ë¬¸ì œ</code>ê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.857142857142854%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0UlEQVQoz42QR46GUAyD33XobQGid+5/ooy+SEb/LKYsLJsQJ34J8zzbOI62bZsty2LTNLmmjuafetZ1dR6GwXEch3360WHfd2+8rssbpGnQPy07z9MZI/w8j/eg5QlqkFma+qdZyZUaaAE1eYK2s4EiA0hKjQVi1XUK+L7vb+np8ydT5KPveyvL0oqisKqqXKdpakmSvPwXgm7Utq0PyvPcIR3HsUVR5PwfBB2f2F3X+eCmaTyhuK7rFyTF+GNC3q6bMYwBJMuy7AVDBEy/DfwCSPIIOm/eojAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"EAGER ë°©ì‹2\"\n        title=\"EAGER ë°©ì‹2\"\n        src=\"/static/988b3b4ebe7eff963353b86df5d09744/8c557/eager_2.png\"\n        srcset=\"/static/988b3b4ebe7eff963353b86df5d09744/4edbd/eager_2.png 175w,\n/static/988b3b4ebe7eff963353b86df5d09744/13ae7/eager_2.png 350w,\n/static/988b3b4ebe7eff963353b86df5d09744/8c557/eager_2.png 700w,\n/static/988b3b4ebe7eff963353b86df5d09744/e996b/eager_2.png 1050w,\n/static/988b3b4ebe7eff963353b86df5d09744/2cefc/eager_2.png 1400w,\n/static/988b3b4ebe7eff963353b86df5d09744/a7115/eager_2.png 2186w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"í•´ê²°-ë°©ë²•\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"í•´ê²° ë°©ë²• permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•´ê²° ë°©ë²•</h2>\n<p>ë¯¸ë¦¬ ì¿¼ë¦¬ë¡œ í…Œì´ë¸”ì„ ì¡°ì¸í•´ì„œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— <code class=\"language-text\">Lazy</code>, <code class=\"language-text\">Eager</code> ë‘ê°œì˜ ì „ëµì— í•´ë‹¹ë˜ëŠ” í•´ê²°ë²•ì…ë‹ˆë‹¤.</p>\n<h4 id=\"1-íŒ¨ì¹˜-ì¡°ì¸fetch-join\" style=\"position:relative;\"><a href=\"#1-%ED%8C%A8%EC%B9%98-%EC%A1%B0%EC%9D%B8fetch-join\" aria-label=\"1 íŒ¨ì¹˜ ì¡°ì¸fetch join permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. íŒ¨ì¹˜ ì¡°ì¸(Fetch Join)</h4>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select DISTINCT a from Album a join fetch a.songs\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Album</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findAllJoinFetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token annotation punctuation\">@Transactional</span> <span class=\"token comment\">// í…ŒìŠ¤íŒ…ì—ì„œ LAZY ì „ëµì‹œ ì‚¬ìš©í•´ì•¼ ë™ì‘</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> fetchJoiní…ŒìŠ¤íŠ¸<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Album</span><span class=\"token punctuation\">></span></span> albums <span class=\"token operator\">=</span> albumRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findAllJoinFetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Album</span> album <span class=\"token operator\">:</span> albums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>album<span class=\"token punctuation\">.</span><span class=\"token function\">getSongs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Songì— ì ‘ê·¼ !</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.71428571428572%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAApklEQVQY03WQWQrEIBBEPU42s5kI2TT7/W9UQzUokwzz8WhL8dmt8t5jXVewEuccpmlCXdfoug7GmAdt26Lve1hrBe6FzLValgXbtmHfdxHO84xhGETYNE2UlGWJNE0jSZI8ckAF0XmeIqOoKAporUUSYM7zXM4CzG8Uu6OM9TiOOPI4jjIKO+TohJ2GzDUfybLsV3jfN67rEiG/gJeqqvrbxTdv4QfuL59816Kg7AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"íŒ¨ì¹˜ ì¡°ì¸\"\n        title=\"íŒ¨ì¹˜ ì¡°ì¸\"\n        src=\"/static/e260f1257d155697e8d5ae436886459b/8c557/fetch_join.png\"\n        srcset=\"/static/e260f1257d155697e8d5ae436886459b/4edbd/fetch_join.png 175w,\n/static/e260f1257d155697e8d5ae436886459b/13ae7/fetch_join.png 350w,\n/static/e260f1257d155697e8d5ae436886459b/8c557/fetch_join.png 700w,\n/static/e260f1257d155697e8d5ae436886459b/e996b/fetch_join.png 1050w,\n/static/e260f1257d155697e8d5ae436886459b/2cefc/fetch_join.png 1400w,\n/static/e260f1257d155697e8d5ae436886459b/bcec6/fetch_join.png 1834w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>íŒ¨ì¹˜ ì¡°ì¸ì˜ ë‹¨ì ì€ 2ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.</p>\n<ol>\n<li><code class=\"language-text\">JPA</code>ê°€ ì œê³µí•˜ëŠ” <code class=\"language-text\">Pagable</code> ê¸°ëŠ¥ ì‚¬ìš© ë¶ˆê°€ (í˜ì´ì§• API)</li>\n<li>\n<p><code class=\"language-text\">1:N</code> ê´€ê³„ê°€ 2ê°œì¸ ì—”í‹°í‹°ë¥¼ íŒ¨ì¹˜ ì¡°ì¸ ì‚¬ìš© ë¶ˆê°€</p>\n<blockquote>\n<p>ì„ì‹œ í•´ê²°ë²•ì€ <code class=\"language-text\">List -&gt; Set</code>ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒ</p>\n</blockquote>\n</li>\n</ol>\n<h4 id=\"2-batch-size-ì¡°ì ˆ\" style=\"position:relative;\"><a href=\"#2-batch-size-%EC%A1%B0%EC%A0%88\" aria-label=\"2 batch size ì¡°ì ˆ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Batch Size ì¡°ì ˆ</h4>\n<p>ì„¤ì •í•œ <code class=\"language-text\">Size</code>ë§Œí¼ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•©ë‹ˆë‹¤. (<code class=\"language-text\">where in</code>ì„ ì‚¬ìš©í•˜ì—¬)<br>\n<code class=\"language-text\">JPA</code>ì˜ í˜ì´ì§• API ê¸°ëŠ¥ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥í•  ë“¯ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-code-title\">Java</div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@BatchSize</span><span class=\"token punctuation\">(</span>size <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"album\"</span><span class=\"token punctuation\">,</span> cascade <span class=\"token operator\">=</span> <span class=\"token class-name\">CascadeType</span><span class=\"token punctuation\">.</span>ALL<span class=\"token punctuation\">,</span> fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>EAGER<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Song</span><span class=\"token punctuation\">></span></span> songs <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>Spring JPAì˜ N+1 ë¬¸ì œì— ëŒ€í•´ ì•Œì•„ë³´ê³ , ë°œìƒí•˜ëŠ” ê²½ìš°ì™€ í•´ê²° ë°©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.</p>\n<p>ê¸´ê¸€ ë´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ğŸ™‡ğŸ»â€â™‚ï¸</p>","tableOfContents":"<ul>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#%EA%B0%9C%EC%9A%94\">ê°œìš”</a></li>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#n1-%EC%BF%BC%EB%A6%AC-%EB%AC%B8%EC%A0%9C%EB%8A%94-%EC%96%B8%EC%A0%9C-%EB%B0%9C%EC%83%9D%ED%95%A0%EA%B9%8C-\">N+1 ì¿¼ë¦¬ ë¬¸ì œëŠ” ì–¸ì œ ë°œìƒí• ê¹Œ ?</a></li>\n<li>\n<p><a href=\"/category/blog/spring-jpa-n+1-query/#n1-%EC%BF%BC%EB%A6%AC-%EC%98%88%EC%A0%9C\">N+1 ì¿¼ë¦¬ ì˜ˆì œ</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81\">ì—”í‹°í‹° ëª¨ë¸ë§</a></li>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#%ED%95%98%EC%9C%84-%EC%97%94%ED%8B%B0%ED%8B%B0%EB%A5%BC-%EC%A1%B0%ED%9A%8C%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%BD%EC%9A%B0\">í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ì§€ ì•ŠëŠ” ê²½ìš°</a></li>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#lazy-%EB%B0%A9%EC%8B%9D-%EA%B2%B0%EA%B3%BC\">LAZY ë°©ì‹ ê²°ê³¼</a></li>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#eager-%EB%B0%A9%EC%8B%9D-%EA%B2%B0%EA%B3%BC\">EAGER ë°©ì‹ ê²°ê³¼</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/category/blog/spring-jpa-n+1-query/#%ED%95%98%EC%9C%84-%EC%97%94%ED%8B%B0%ED%8B%B0%EB%A5%BC-%EC%A1%B0%ED%9A%8C%ED%95%98%EB%8A%94-%EA%B2%BD%EC%9A%B0\">í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ëŠ” ê²½ìš°</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#lazy-%EB%B0%A9%EC%8B%9D-%EA%B2%B0%EA%B3%BC-1\">LAZY ë°©ì‹ ê²°ê³¼</a></li>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#eager-%EB%B0%A9%EC%8B%9D-%EA%B2%B0%EA%B3%BC-1\">EAGER ë°©ì‹ ê²°ê³¼</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/category/blog/spring-jpa-n+1-query/#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\">í•´ê²° ë°©ë²•</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#1-%ED%8C%A8%EC%B9%98-%EC%A1%B0%EC%9D%B8fetch-join\">1. íŒ¨ì¹˜ ì¡°ì¸(Fetch Join)</a></li>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#2-batch-size-%EC%A1%B0%EC%A0%88\">2. Batch Size ì¡°ì ˆ</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/category/blog/spring-jpa-n+1-query/#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></li>\n</ul>","frontmatter":{"title":"Spring JPA(ORM)ì˜ N+1 ì¿¼ë¦¬ ë¬¸ì œ í•´ê²°","description":"Spring JPA N+1 ì¿¼ë¦¬ ë¬¸ì œì— ëŒ€í•´ì„œ","date":"2020.06.29","emoji":"âœ…","category":"blog"}}},"pageContext":{"slug":"/category/blog/spring-jpa-n+1-query/","relatedPosts":[{"node":{"fields":{"slug":"/category/blog/about-multi-thread-env/"},"frontmatter":{"title":"ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì˜ ìì› ê³µìœ ì— ëŒ€í•˜ì—¬","date":"2020.06.16","emoji":"ğŸ˜","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/performance-comparison-prisma-typeorm/"},"frontmatter":{"title":"Prismaì™€ TypeORMì€ ì„±ëŠ¥ì— ì°¨ì´ê°€ ìˆì„ê¹Œ?","date":"2020.06.11","emoji":"â‰ï¸","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/getting-started-utterances/"},"frontmatter":{"title":"Gatsby ë¸”ë¡œê·¸ - utterances ì†Œì…œ ëŒ“ê¸€ ê¸°ëŠ¥ ë„ì…í•˜ê¸°","date":"2020.06.07","emoji":"ğŸ’¬","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/getting-started-markdown/"},"frontmatter":{"title":"ë§ˆí¬ë‹¤ìš´ (Markdown) ë¬¸ë²• ì•Œì•„ë³´ê¸°","date":"2020.06.04","emoji":"ğŸ“‹","category":"blog"}}}]}}}