<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.23.3"/><link rel="icon" href="/favicon-32x32.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#0c9ee4"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=83455313757f7d5558ecbb4d2c6744cf"/><title data-react-helmet="true">Prisma와 TypeORM은 성능에 어떤 차이가 있을까? | Blausee 기술 블로그</title><link data-react-helmet="true" rel="canonical" href="https://wwlee94.github.io/category/blog/performance-comparison-prisma-typeorm/"/><meta data-react-helmet="true" name="description" content="Prisma와 TypeORM 쿼리 성능 비교"/><meta data-react-helmet="true" property="og:title" content="Prisma와 TypeORM은 성능에 어떤 차이가 있을까?"/><meta data-react-helmet="true" property="og:description" content="Prisma와 TypeORM 쿼리 성능 비교"/><meta data-react-helmet="true" property="og:image" content="https://wwlee94.github.io/images/ogp.png"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="google-site-verification" content="88lff6Lu9mvm83qKi5gCz6QvnlyJzZnPjPQo7E7PdOw"/><meta data-react-helmet="true" name="naver-site-verification" content="0d943f89faeb80f3af0c50cf57e4d269c64e695b"/><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","headline":"Prisma와 TypeORM은 성능에 어떤 차이가 있을까?","image":"https://wwlee94.github.io/images/ogp.png","editor":"wwlee94","datePublished":"2020-06-09","dateCreated":"2020-06-09","dateModified":"2020-06-09","description":"Prisma와 TypeORM 쿼리 성능 비교","author":{"@type":"Person","name":"wwlee94","image":"https://wwlee94.github.io/images/avatar.png"},"publisher":{"@type":"Organization","name":"wwlee94","logo":{"@type":"ImageObject","url":"https://wwlee94.github.io/images/avatar.png","width":150,"height":150}}}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://wwlee94.github.io","name":"HOME"}},{"@type":"ListItem","position":2,"item":{"@id":"https://wwlee94.github.io/blog","name":"블로그"}},{"@type":"ListItem","position":3,"item":{"name":"Prisma와 TypeORM은 성능에 어떤 차이가 있을까?"}}]}</script><style data-styled="RRmay bKvkBm gCpdss dCUxgI egXdEe iAViZD kvMlKD lgloNz juBGvQ dcRxDp fpGsDA ewFmUv laMdJm fFDafD gvYRzK COWRd jNfPFJ hHuvPI eVYoiM PECYf KSffX huBels gJRwpF hTwKlC hEfKMb qFAAr gQCnFr" data-styled-version="4.4.1">
/* sc-component-id: sc-global-1788855032 */
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;-webkit-tap-highlight-color:rgba(0,0,0,0);} html,body{height:100%;} body{--bg:#f5f5f5;--textNormal:#21242d;--headerBackground:#ffffff;--bioBackground:#ffffff;--bioColor:rgba(0,0,0,0.87);--bioHighlight:#000000;--categoryHeader:rgba(0,0,0,0.87);--categoryColor:rgba(0,0,0,0.87);--categotyImgage:linear-gradient(-45deg,#ffa649,#f7645b,#805ed4);--postCardColor:rgba(0,0,0,0.87);--postCardHighlight:rgba(0,0,0,0.08);--postCardEmoji:#ffffff;background-color:var(--bg);color:var(--textNormal);line-height:1.6;font-size:100%;font-weight:400;font-family:"Helvetica Neue",Helvetica,Arial,"Hiragino Kaku Gothic ProN","Hiragino Kaku Gothic Pro","メイリオ",Meiryo,sans-serif;-webkit-text-size-adjust:100%;} body.dark{--bg:#21242d;--textNormal:#21242d;--headerBackground:#3B71DA;--bioBackground:#313746;--bioColor:#ffffff;--bioHighlight:#ffffff;--categoryHeader:#ffffff;--categoryColor:#727d86;--categotyImgage:#313746;--postCardColor:#ffffff;--postCardHighlight:#313746;--postCardEmoji:#313746;background-color:var(--bg);color:var(--textNormal);line-height:1.6;font-size:100%;font-weight:400;font-family:"Helvetica Neue",Helvetica,Arial,"Hiragino Kaku Gothic ProN","Hiragino Kaku Gothic Pro","メイリオ",Meiryo,sans-serif;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;} article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;} a{color:#20a8ea;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:.2s;transition:.2s;} a:focus{outline:none;} ol,ul,li{list-style:none;} blockquote,q{quotes:none;} blockquote::before,blockquote::after,q::before,q::after{content:'';content:none;} table{border-collapse:collapse;border-spacing:0;} *{box-sizing:border-box;} img{max-width:100%;} button,input{font-family:inherit;font-size:inherit;background:none;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;resize:none;} button:focus,input:focus{outline:none;}
/* sc-component-id: Bio__BioWrapper-sc-1p2fzdk-0 */
.hHuvPI{position:-webkit-sticky;position:sticky;top:2em;width:290px;padding:1.5em;font-size:15.5px;background:var(--bioBackground);border-radius:4px;box-shadow:0 2px 4px rgba(0,0,0,0.4);} @media screen and (max-width:950px){.hHuvPI{position:relative;margin:2em 0;width:100%;}} @media screen and (max-width:500px){.hHuvPI{padding:1.3em 1em;}}
/* sc-component-id: Bio__AvatarImage-sc-1p2fzdk-1 */
.PECYf{display:block;width:70px;height:70px;border-radius:50%;}
/* sc-component-id: Bio__BioHeader-sc-1p2fzdk-2 */
.eVYoiM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: Bio__BioName-sc-1p2fzdk-3 */
.KSffX{margin-left:20px;font-weight:700;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;font-size:1.3em;color:var(--bioColor);}
/* sc-component-id: Bio__BioMain-sc-1p2fzdk-4 */
.huBels{margin-top:1em;}
/* sc-component-id: Bio__BioText-sc-1p2fzdk-5 */
.gJRwpF{color:var(--bioColor);font-size:0.92em;}
/* sc-component-id: Bio__BioLinks-sc-1p2fzdk-6 */
.hTwKlC{margin-top:1.5em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:var(--bioColor);text-align:center;max-width:244px;} .hTwKlC img{display:block;margin:0 auto;width:40px;height:33px;}
/* sc-component-id: Bio__BioLink-sc-1p2fzdk-7 */
.hEfKMb{width:33.3%;display:block;font-weight:700;font-size:0.9em;line-height:30px;color:#727d86;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;} .hEfKMb:hover{color:var(--bioHighlight);}
/* sc-component-id: ContentWrapper__IndexContent-sc-11a8f56-0 */
.bKvkBm{max-width:1200px;margin:0 auto;padding:0 1.5em;} @media screen and (max-width:950px){.bKvkBm{max-width:760px;}} @media screen and (max-width:500px){.bKvkBm{padding:0 20px;}}
/* sc-component-id: Contents__Content-sc-1fxogwq-0 */
.egXdEe{margin-top:2em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:85vh;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;} @media screen and (max-width:950px){.egXdEe{display:block;}} @media screen and (max-width:500px){.egXdEe{margin-top:0;}}
/* sc-component-id: Contents__MainWrapper-sc-1fxogwq-1 */
.iAViZD{width:calc(100% - 290px - 40px);margin-right:40px;} @media screen and (max-width:950px){.iAViZD{width:100%;}}
/* sc-component-id: Footer__FooterContent-zn4blm-0 */
.qFAAr{padding:0.1em 0;}
/* sc-component-id: Footer__FooterInner-zn4blm-1 */
.gQCnFr{margin-top:3em;text-align:center;padding:1.5em;border-top:solid 1px #313746;color:#727d86;font-size:14px;} .gQCnFr a{color:#727d86;-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: ColorModeToggle__ToggleButton-pbocc9-0 */
.dCUxgI{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:auto;cursor:pointer;} .dCUxgI .icon{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#222;font-size:14px;font-weight:900;}
/* sc-component-id: Header__HeaderTag-ewwnf4-0 */
.RRmay{background:var(--headerBackground);width:100%;box-shadow:rgba(0,0,0,0.2) 0px 3px 3px -2px,rgba(0,0,0,0.14) 0px 3px 4px 0px,rgba(0,0,0,0.12) 0px 1px 8px 0px;}
/* sc-component-id: Header__HeaderInner-ewwnf4-1 */
.gCpdss{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:5px;} .gCpdss .logo{width:200px;height:60px;} @media screen and (max-width:500px){.gCpdss .logo{margin:0 auto;}} .gCpdss .message-link{position:absolute;right:0;top:7px;display:block;width:34px;} .gCpdss .message-link:hover{top:5px;}
/* sc-component-id: CategoryLabel__Wrapper-m6lbf0-0 */
.ewFmUv .category-text{padding:0.3em 1em;display:inline-block;display:inline;padding:3px 6px;line-height:1.2;font-size:12px;border-radius:2px;font-weight:700;color:#fff;} @media screen and (max-width:950px){.ewFmUv .category-text{font-size:11px;padding:2.5px 6px;}}
/* sc-component-id: RelatedPosts__Wrapper-sc-1nrzwfn-0 */
.fFDafD{background:#f1f4f7;padding:2em 2.5em;} @media screen and (max-width:500px){.fFDafD{padding:30px 20px;}}
/* sc-component-id: RelatedPosts__PostCardWrapper-sc-1nrzwfn-1 */
.gvYRzK .post-card-link{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:1em;padding:15px;background:#fff;border-radius:5px;color:#313746;box-shadow:0 1px 2px rgba(0,0,0,0.1);} .gvYRzK .post-card-link:hover{background:#e0ebf1;} @media screen and (max-width:500px){.gvYRzK .post-card-link{padding:10px;}}
/* sc-component-id: RelatedPosts__PostCardEmoji-sc-1nrzwfn-2 */
.COWRd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0;width:80px;height:80px;background:#f1f4f7;border-radius:4px;font-size:50px;} .COWRd img{width:55px;height:55px;}
/* sc-component-id: RelatedPosts__PostCardContent-sc-1nrzwfn-3 */
.jNfPFJ{width:calc(100% - 80px);padding-left:15px;} .jNfPFJ h5{font-size:1.1em;font-weight:700;line-height:1.45;} .jNfPFJ time{display:block;margin-bottom:0.1em;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;font-size:0.8em;color:#969fa7;} @media screen and (max-width:500px){.jNfPFJ{padding-left:15px;}.jNfPFJ h5{font-size:1em;}}
/* sc-component-id: post__Content-sc-1em13mo-0 */
.kvMlKD{position:relative;background:#fff;overflow:hidden;font-size:16px;} .kvMlKD:before,.kvMlKD:after{content:'';position:absolute;width:0;height:0;z-index:5;} .kvMlKD:before{top:0;left:0;border-top:20px solid;border-right:20px solid transparent;} .kvMlKD:after{bottom:0;right:0;border-bottom:20px solid;border-left:20px solid transparent;} @media screen and (max-width:500px){.kvMlKD{margin:0 -20px;}.kvMlKD:before,.kvMlKD:after{content:none;}}
/* sc-component-id: post__HeroImage-sc-1em13mo-1 */
.lgloNz{position:relative;background:#313746;text-align:center;background-image:url("/static/pattern-00b88abde489053a0ab3b3e799db37b9.svg");background-repeat:repeat;background-size:400px;min-height:230px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;} .lgloNz .emoji{width:110px;height:110px;} @media screen and (max-width:500px){.lgloNz{min-height:190px;}}
/* sc-component-id: post__ContentMain-sc-1em13mo-2 */
.juBGvQ{padding:1.8em 2.5em;} @media screen and (max-width:500px){.juBGvQ{padding:30px 20px;}}
/* sc-component-id: post__PostTitle-sc-1em13mo-3 */
.fpGsDA{margin:0.1em 0 0.3em;font-size:1.8em;font-weight:700;line-height:1.5;} @media screen and (max-width:500px){.fpGsDA{font-size:25px;}}
/* sc-component-id: post__PostDate-sc-1em13mo-4 */
.dcRxDp{display:block;color:#969fa7;font-size:0.9em;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}
/* sc-component-id: post__PostContent-sc-1em13mo-5 */
.laMdJm{margin:1.5em 0 1em;line-height:1.9;} .laMdJm .gatsby-highlight{margin:1.5em 0;} @media screen and (max-width:500px){.laMdJm .gatsby-highlight{margin:1.5em -20px;}} .laMdJm code[class*="language-"],.laMdJm pre[class*="language-"]{-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;white-space:pre;white-space:pre-wrap;word-wrap:normal;font-family:Menlo,Monaco,"Courier New",monospace;font-size:14.5px;color:#22aef1;text-shadow:none;} .laMdJm pre[class*="language-"],.laMdJm:not(pre) > code[class*="language-"]{background:#313746;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,.5);} @media screen and (max-width:500px){.laMdJm pre[class*="language-"],.laMdJm:not(pre) > code[class*="language-"]{border-radius:0;}} .laMdJm pre[class*="language-"]{padding:26px 1.2em;overflow:auto;-webkit-overflow-scrolling:touch;} .laMdJm pre[class*="language-"]{position:relative;} .laMdJm pre[class*="language-"] code{white-space:pre;display:block;} .laMdJm:not(pre) > code[class*="language-"]{padding:0.15em 0.2em 0.05em;border-radius:0.3em;border:0.13em solid #7a6652;box-shadow:1px 1px 0.3em -0.1em #000 inset;} .laMdJm .token.namespace{opacity:0.7;} .laMdJm .token.comment,.laMdJm .token.prolog,.laMdJm .token.doctype,.laMdJm .token.cdata{color:rgba(255,255,255,0.6);} .laMdJm .token.operator,.laMdJm .token.boolean,.laMdJm .token.number{color:#a77afe;} .laMdJm .token.attr-name,.laMdJm .token.string{color:#ffab3c;} .laMdJm .token.entity,.laMdJm .token.url,.laMdJm .language-css .token.string,.laMdJm .style .token.string{color:#ffab3c;} .laMdJm .token.selector,.laMdJm .token.inserted{color:#3eda86;} .laMdJm .token.atrule,.laMdJm .token.attr-value,.laMdJm .token.keyword,.laMdJm .token.important,.laMdJm .token.deleted{color:#ff7574;} .laMdJm .token.regex,.laMdJm .token.statement{color:#22aef1;} .laMdJm .token.placeholder,.laMdJm .token.variable{color:#fff;} .laMdJm .token.important,.laMdJm .token.statement,.laMdJm .token.bold{font-weight:700;} .laMdJm .token.punctuation{color:#bebec5;} .laMdJm .token.entity{cursor:help;} .laMdJm .token.italic{font-style:italic;} .laMdJm code.language-markup{color:#f9f9f9;} .laMdJm code.language-markup .token.tag{color:#ff7574;} .laMdJm code.language-markup .token.attr-name{color:#3eda86;} .laMdJm code.language-markup .token.attr-value{color:#ffab3c;} .laMdJm code.language-markup .token.style,.laMdJm code.language-markup .token.script{color:#22aef1;} .laMdJm code.language-markup .token.script .token.keyword{color:#22aef1;} .laMdJm .gatsby-highlight-code-line{background-color:rgba(0,0,0,0.3);display:table;min-width:calc(100% + 1.2em * 2);margin-right:-1.2em;margin-left:-1.2em;padding-left:12px;border-left:5px solid #22aef1;} .laMdJm .gatsby-code-title{position:relative;margin:1.5em 0 -24px auto;background:#20242e;color:#fff;font-size:12px;height:24px;padding:0 8px;line-height:24px;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-weight:700;border-radius:0 4px;display:table;z-index:2;} @media screen and (max-width:500px){.laMdJm .gatsby-code-title{border-radius:0;margin-right:-20px;}} .laMdJm .gatsby-code-title + .gatsby-highlight{margin-top:0;} .laMdJm p > code,.laMdJm li > code{display:inline-block;background:#edf2f7;padding:0.1em 0.3em;margin:0 0.2em;border-radius:3px;line-height:1.4;color:#454e63 !important;} .laMdJm a:hover{-webkit-text-decoration:underline;text-decoration:underline;} .laMdJm p{margin-bottom:1em;} .laMdJm h1,.laMdJm h2,.laMdJm h3,.laMdJm h4,.laMdJm h5,.laMdJm h6{margin:40px 0 10px;font-weight:700;line-height:1.5;} .laMdJm h1,.laMdJm h2{position:relative;margin:55px 0 12px;padding:5px 0 5px 17px;font-size:1.55em;} .laMdJm h1:before,.laMdJm h2:before{position:absolute;top:0;left:0;content:"";display:inline-block;width:5px;height:100%;border-radius:5px;background:linear-gradient(0deg,#ffa649 0%,#ffa649 50%,#f7645b 50%,#f7645b 100%);} .laMdJm h2{font-size:1.40em;} .laMdJm h3{margin:55px 0 12px;font-size:1.40em;} .laMdJm h4{position:relative;padding-left:18px;font-size:1.2em;} .laMdJm h4:before{position:absolute;top:.2em;left:0;content:"";display:inline-block;width:14px;height:19px;background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMzAgNDUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwIDQ1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0Y3NjQ1Qzt9Cgkuc3Qxe2ZpbGw6I0ZGQTc0ODt9Cjwvc3R5bGU+Cjx0aXRsZT5pY29uPC90aXRsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI4LjEsMzAuMWMwLDcuNS02LjEsMTMuNi0xMy42LDEzLjZTMC45LDM3LjcsMC45LDMwLjFTNywxNi41LDE0LjUsMTYuNVMyOC4xLDIyLjYsMjguMSwzMC4xeiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjguMSwxNS42YzAsNy41LTYuMSwxMy42LTEzLjYsMTMuNlMwLjksMjMuMSwwLjksMTUuNlM3LDIsMTQuNSwyUzI4LjEsOC4xLDI4LjEsMTUuNnoiLz4KPC9zdmc+Cg==");background-size:contain;background-repeat:no-repeat;} .laMdJm ul,.laMdJm ol{margin:1em 0;} .laMdJm ul p,.laMdJm ol p{margin:0;} .laMdJm ul{padding-left:1.2em;} .laMdJm ul li{margin:.4em 0;list-style:disc;} .laMdJm ul ul{margin:0;} .laMdJm ol{counter-reset:number;} .laMdJm ol > li{list-style:none;list-style-position:inside;position:relative;line-height:20px;padding-left:34px;margin:1em 0;} .laMdJm ol > li:before{display:inline-block;position:absolute;left:0;top:0;width:20px;height:20px;border-radius:25%;background:#5c9ee7;color:#fff;font-weight:700;font-size:14px;text-align:center;line-height:20px;content:counter(number);counter-increment:number;background:#20a8ea;} .laMdJm strong{font-weight:700;} .laMdJm em{font-style:italic;} .laMdJm del{-webkit-text-decoration:line-through;text-decoration:line-through;} .laMdJm hr{display:block;margin:2em 0;border:none;border-top:dotted 3px #e1eaf3;} .laMdJm table{display:block;border-spacing:2px;border-collapse:separate;overflow:auto;-webkit-overflow-scrolling:touch;width:auto;font-size:.9em;line-height:1.4;} .laMdJm table th{background-color:#20a8ea;color:#FFF;padding:10px 12px;text-align:center;font-weight:700;} .laMdJm table th[align="center"]{text-align:center;} .laMdJm table th[align="right"]{text-align:right;} .laMdJm table td{background-color:#f1f4f7;color:#313746;padding:10px 12px;} .laMdJm table thead tr th:first-child{border-radius:5px 0 0 0;} .laMdJm table thead tr th:last-child{border-radius:0 5px 0 0;} .laMdJm table tbody tr:last-child td:first-child{border-radius:0 0 0 5px;} .laMdJm table tbody tr:last-child td:last-child{border-radius:0 0 5px 0;} .laMdJm blockquote{margin:1em 0;padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5;} .laMdJm .gatsby-resp-image-wrapper{margin:1em 0;border:solid 1px #e5e8ea;box-shadow:1px 1px 20px lightgrey;border-radius:4px;overflow:hidden;} .laMdJm .custom-block{margin:1em 0;background:#f1f4f7;} .laMdJm .custom-block-heading{font-weight:700;} .laMdJm .custom-block-heading .emoji{width:1.2em !important;height:1.2em !important;vertical-align:-0.2em !important;} .laMdJm .custom-block-body{font-size:0.92em;} .laMdJm .custom-block-body > *:first-child{margin-top:0;} .laMdJm .custom-block-body > *:last-child{margin-bottom:0;} .laMdJm .custom-block-body h5{font-size:1.05em;margin:20px 0 5px;} .laMdJm > *:first-child{margin-top:0;} .laMdJm .custom-block.simple{padding:1em 1.2em;border-radius:5px;} .laMdJm .custom-block.simple .custom-block-heading{font-size:1.1em;} .laMdJm .custom-block.info,.laMdJm .custom-block.alert,.laMdJm .custom-block.notice{padding:0.7em 1em;border-left:solid 4px #20a8ea;border-radius:1px 3px 3px 1px;} .laMdJm .custom-block.alert{border-left-color:#f7615f;background:#ffeff0;} .laMdJm .custom-block.alert .custom-block-heading{color:#f7615f;} .laMdJm .custom-block.notice{border-left-color:#ffa22b;background:#fff4df;} .laMdJm .custom-block.notice .custom-block-heading{color:#ffa22b;} .laMdJm .custom-block.image-small,.laMdJm .custom-block.image-medium{background:#c0e2fb;padding:1.5em;text-align:center;border-radius:5px;} .laMdJm .custom-block.image-small .gatsby-resp-image-wrapper,.laMdJm .custom-block.image-medium .gatsby-resp-image-wrapper{margin:0;border:none;box-shadow:0 5px 15px rgba(0,0,0,0.15);} .laMdJm .custom-block.image-small .gatsby-resp-image-wrapper{max-width:350px !important;border:none;} .laMdJm .custom-block.image-medium .gatsby-resp-image-wrapper{max-width:450px !important;border:none;}</style><style id="jss-server-side"></style><link as="script" rel="preload" href="/webpack-runtime-ef0da7f691e912714bbc.js"/><link as="script" rel="preload" href="/framework-59a9ef51c55d9b62f7de.js"/><link as="script" rel="preload" href="/app-08a3a2c53b9e6abfe32f.js"/><link as="script" rel="preload" href="/1bfc9850-9265523730b375b8f382.js"/><link as="script" rel="preload" href="/252f366e-39b517a8d8c6bcc2c394.js"/><link as="script" rel="preload" href="/de71a805-207cb31e62a865cb1862.js"/><link as="script" rel="preload" href="/53b27b57f60ee3e1ca57a66cde9add975dffb161-446cafcc78bbbecca50f.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-da42c88a80d5c459f845.js"/><link as="fetch" rel="preload" href="/page-data/category/blog/performance-comparison-prisma-typeorm/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="App" style="background-color:var(--bg);color:var(--textNormal);transition:color 0.2s ease-out, background 0.2s ease-out"><header class="Header__HeaderTag-ewwnf4-0 RRmay"><div class="ContentWrapper__IndexContent-sc-11a8f56-0 bKvkBm"><div class="Header__HeaderInner-ewwnf4-1 gCpdss"><a class="logo-link" href="/"><img class="logo" src="/static/logo-42e9962f0784e14369fff245074e7612.png" alt="Blausee 기술 블로그"/></a><div class="ColorModeToggle__ToggleButton-pbocc9-0 dCUxgI"><div style="position:relative;display:inline-block;text-align:left;opacity:1;direction:ltr;border-radius:12px;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s;touch-action:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none"><div class="react-switch-bg" style="height:24px;width:48px;margin:0;position:relative;background:#d9dfe2;border-radius:12px;cursor:pointer;-webkit-transition:background 0.25s;-moz-transition:background 0.25s;transition:background 0.25s"><div style="height:24px;width:26px;position:relative;opacity:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon checkedIcon"><svg width="24" height="24"><rect width="24" height="24" fill="none" rx="0" ry="0"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M14.8102 3.2H13.8202C13.4902 3.2 13.2302 2.93 13.2302 2.6C13.2302 2.27 13.5002 2 13.8302 2H16.2602C16.5002 2 16.7202 2.15 16.8102 2.37C16.9002 2.59 16.8502 2.85 16.6802 3.02L15.2702 4.43H16.2602C16.5902 4.43 16.8602 4.7 16.8602 5.03C16.8602 5.36 16.5902 5.63 16.2602 5.63H13.8202C13.5802 5.63 13.3602 5.48 13.2702 5.26C13.1802 5.04 13.2302 4.78 13.4002 4.61L14.8102 3.2ZM20.1401 11.0101H21.1301C21.4601 11.0101 21.7401 11.2801 21.7401 11.6101C21.7401 11.9401 21.4701 12.2101 21.1401 12.2101H18.7001C18.4601 12.2101 18.2401 12.0601 18.1501 11.8401C18.0601 11.6201 18.1101 11.3601 18.2801 11.1901L19.6901 9.78008H18.7001C18.3701 9.78008 18.1001 9.51008 18.1001 9.18008C18.1001 8.85008 18.3701 8.58008 18.7001 8.58008H21.1301C21.3701 8.58008 21.5901 8.73008 21.6801 8.95008C21.7701 9.17008 21.7201 9.43008 21.5501 9.60008L20.1401 11.0101ZM11.0302 9.8499H12.8502L10.7002 11.9999C10.5302 12.1699 10.4802 12.4299 10.5702 12.6499C10.6602 12.8699 10.8802 13.0199 11.1202 13.0199H14.2902C14.6202 13.0199 14.8902 12.7499 14.8902 12.4199C14.8902 12.0899 14.6202 11.8199 14.2902 11.8199H12.5602L14.7102 9.6699C14.8802 9.4999 14.9302 9.2399 14.8402 9.0199C14.7502 8.7999 14.5302 8.6499 14.2902 8.6499H11.0202C10.6902 8.6499 10.4202 8.9199 10.4202 9.2499C10.4202 9.5799 10.7002 9.8499 11.0302 9.8499ZM14.5501 16.89C15.6601 16.89 16.7201 16.66 17.7101 16.19C17.9401 16.08 18.2101 16.13 18.3801 16.3C18.5601 16.48 18.6101 16.75 18.5001 16.98C17.0901 20.05 13.9901 22.03 10.6001 22.03C5.79013 22.03 1.88013 18.12 1.88013 13.31C1.88013 9.94004 3.87013 6.84004 6.93013 5.40004C7.16013 5.29004 7.43012 5.34004 7.61012 5.52004C7.79012 5.70004 7.84013 5.97004 7.73013 6.20004C7.27013 7.19004 7.03012 8.26004 7.03012 9.38004C7.03012 13.52 10.4001 16.89 14.5501 16.89ZM3.09013 13.31C3.09013 17.46 6.46012 20.83 10.6101 20.83C12.9901 20.83 15.2001 19.7 16.6001 17.85C15.9401 18.01 15.2501 18.09 14.5501 18.09C9.74013 18.09 5.83012 14.18 5.83012 9.38004C5.83012 8.68004 5.91013 7.99004 6.07013 7.32004C4.22013 8.73004 3.09013 10.94 3.09013 13.31Z"></path></svg></div></div><div style="height:24px;width:26px;position:absolute;opacity:1;right:0;top:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon uncheckedIcon"><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.2" baseProfile="tiny" viewBox="0 0 24 24" size="24" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 6.934l1-2.934c.072-.213.078-.452 0-.682-.188-.553-.789-.848-1.341-.659-.553.189-.847.788-.659 1.341l1 2.934zM4 11c-.213-.072-.452-.078-.682 0-.553.188-.848.789-.659 1.341.189.553.788.847 1.341.659l2.934-1-2.934-1zM12 17.066l-1 2.934c-.072.213-.078.452 0 .682.188.553.789.848 1.341.659.553-.189.847-.788.659-1.341l-1-2.934zM21.341 11.657c-.188-.553-.788-.848-1.341-.659l-2.934 1 2.934 1c.213.072.452.078.682 0 .552-.188.847-.789.659-1.341zM5.636 7.05l2.781 1.367-1.367-2.781c-.1-.202-.265-.375-.482-.482-.524-.258-1.157-.042-1.415.482-.257.523-.041 1.157.483 1.414zM5.153 17.432c-.257.523-.041 1.156.482 1.414.523.257 1.157.041 1.414-.482l1.367-2.781-2.781 1.367c-.201.099-.374.263-.482.482zM18.363 16.949l-2.781-1.367 1.367 2.781c.1.202.264.375.482.482.523.257 1.156.041 1.414-.482s.042-1.157-.482-1.414zM18.844 6.566c.258-.524.042-1.157-.481-1.415-.523-.257-1.157-.041-1.414.482l-1.369 2.783 2.782-1.368c.202-.1.375-.264.482-.482zM12 7.5c-2.481 0-4.5 2.019-4.5 4.5s2.019 4.5 4.5 4.5 4.5-2.019 4.5-4.5-2.019-4.5-4.5-4.5z"></path></svg></div></div></div><div class="react-switch-handle" style="height:22px;width:22px;background:#ffffff;display:inline-block;cursor:pointer;border-radius:50%;position:absolute;transform:translateX(1px);top:1px;outline:0;border:0;-webkit-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;-moz-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s"></div><input type="checkbox" role="switch" style="border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px" id="normal-switch"/></div></div></div></div></header><div class="ContentWrapper__IndexContent-sc-11a8f56-0 bKvkBm"><div class="Contents__Content-sc-1fxogwq-0 egXdEe"><div class="Contents__MainWrapper-sc-1fxogwq-1 iAViZD"><main><section class="post__Content-sc-1em13mo-0 kvMlKD"><p class="post__HeroImage-sc-1em13mo-1 lgloNz"><img class="emoji" draggable="false" alt="⁉️" src="https://twemoji.maxcdn.com/v/12.1.6/svg/2049.svg"/></p><div class="post__ContentMain-sc-1em13mo-2 juBGvQ"><time class="post__PostDate-sc-1em13mo-4 dcRxDp">2020.06.09</time><h1 class="post__PostTitle-sc-1em13mo-3 fpGsDA">Prisma와 TypeORM은 성능에 어떤 차이가 있을까?</h1><div class="CategoryLabel__Wrapper-m6lbf0-0 ewFmUv"><a class="category-text" style="background:#ffa22b" href="/category/blog">블로그</a></div><div class="post__PostContent-sc-1em13mo-5 laMdJm"><h2>개요</h2>
<p>최근 <a href="http://prography.org/">Prography</a> 라는 IT 대외동아리 모임에 참여하여 프로젝트를 <code class="language-text">NodeJS</code>런타임과 <code class="language-text">Express</code>를 사용하여 개발을 진행했습니다.</p>
<p>같은 팀원과 의견을 나누면서 팀 개발에는 <code class="language-text">JavaScript</code>보다 <code class="language-text">TypeScript</code>언어가 적합하다고 생각해 채택했고<br>
<code class="language-text">ORM</code>(Object-relatinal mapping)은 <code class="language-text">Prisma</code>와 <code class="language-text">TypeORM</code>를 고민하던 중 아래와 같은 이유로 <code class="language-text">Prisma</code>를 채택했습니다. (Prisma2 버전)</p>
<ol>
<li>Node.js 와 TypeScript 를 위한 Auto-generated &#x26; Type-safe 한 <code class="language-text">Querybuilder</code>를 제공해준다.</li>
<li>
<p>DB 마이그레이션, 덤프, 데이터 제어를 위한 CRUD 형태의 API 기능 제공</p>
<ul>
<li><code class="language-text">schema.prisma</code> 데이터 모델 파일을 수정해 데이터 모델과 DB 마이그레이션을 자동으로 수행 가능</li>
</ul>
</li>
<li><code class="language-text">Prisma Studio</code> 라는 GUI Database Tool 제공</li>
</ol>
<h2>베타 버전의 한계 ?</h2>
<p>위와 같은 이유로 <code class="language-text">Prisma</code>를 채택하여 개발을 진행했지만 다음과 같은 여러 베타 버전의 문제점을 마주했습니다 😭</p>
<ol>
<li>
<p><a href="https://github.com/prisma/prisma-client-js/issues/710">Multi-field primary ID 이슈</a></p>
<blockquote>
<p>현재 이슈 등록 후 해결 완료 !</p>
</blockquote>
</li>
<li>
<p><a href="https://github.com/prisma/prisma/issues/1984">Prisma Fluent API의 성능에 대한 의문</a></p>
<blockquote>
<p>Fluent API로 쿼리를 날리면 쿼리문이 Join되지 않고 여러 쿼리로 분리되서 호출됨 (DB 요청 비용 증가)</p>
</blockquote>
</li>
<li>
<p>환경 별 설정 분리의 불편함</p>
<blockquote>
<p>Prisma migrate 기능의 Default PATH가 prisma/.env 경로로 고정되어 있다 (변경 불가 😂)</p>
</blockquote>
<p>따라서, dotenv cli를 사용해 <code class="language-text">.env</code>파일을 직접 지정해 주어야하는 불편함 (너무 불편..)</p>
</li>
</ol>
<h2>Prisma 와 TypeORM 성능 비교</h2>
<div class="custom-block info"><div class="custom-block-heading">조건 </div><div class="custom-block-body"><p>서로 다른 DB 두개를 생성해 각각 총 10000개의 posts 데이터를 생성하여 테스트를 진행했습니다.
개인적으로 진행한 테스트이기 때문에 오차가 발생할 수 있습니다.</p></div></div>
<h4>모델링</h4>
<h5>1. Prisma Model</h5>
<div class="gatsby-code-title">Prisma-Model</div>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql">model Post <span class="token punctuation">{</span>
  id        Int     <span class="token directive function">@id</span> <span class="token directive function">@default</span><span class="token punctuation">(</span>autoincrement<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  title     String
  author    User?   <span class="token directive function">@relation</span><span class="token punctuation">(</span><span class="token attr-name">fields</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>authorId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token attr-name">references</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span>
  authorId  Int?
<span class="token punctuation">}</span>

model User <span class="token punctuation">{</span>
  id    Int     <span class="token directive function">@id</span> <span class="token directive function">@default</span><span class="token punctuation">(</span>autoincrement<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  email String  <span class="token directive function">@unique</span>
  name  String?
  posts Post<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<h5>2. TypeORM Model</h5>
<div class="gatsby-code-title">TypeORM-Model</div>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript">@<span class="token function">Entity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Post</span> <span class="token punctuation">{</span>
  @<span class="token function">PrimaryGeneratedColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  id<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

  @<span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  title<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  authorId<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">ManyToOne</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">type</span></span> <span class="token operator">=></span> User<span class="token punctuation">,</span> <span class="token parameter">user</span> <span class="token operator">=></span> user<span class="token punctuation">.</span>posts<span class="token punctuation">)</span>
  author<span class="token operator">!</span><span class="token operator">:</span> User<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">Entity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  @<span class="token function">PrimaryGeneratedColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  id<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

  @<span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  email<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  name<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">OneToMany</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">type</span></span> <span class="token operator">=></span> Post<span class="token punctuation">,</span> <span class="token parameter">post</span> <span class="token operator">=></span> post<span class="token punctuation">.</span>author<span class="token punctuation">)</span>
  posts<span class="token operator">!</span><span class="token operator">:</span> Post<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h4>테스트</h4>
<h5>1. Prisma 코드</h5>
<div class="gatsby-code-title">Prisma2</div>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'------- Prisma2 -------'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'prisma'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> prisma<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">findMany</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  include<span class="token operator">:</span> <span class="token punctuation">{</span> posts<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'prisma'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h5>결과</h5>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 18.857142857142858%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0UlEQVQY02WO3XLCIBSE8y7+1L+OCAmEQEISNMbU6rR64fT932N7cjpTL7zY4Zxll49kbT/gTw+0/Td02SMPA0QeIbKAd2GxIaWmhtQVRFpiqzxkVrGvyN9Kx55I/5SI5g4VLuj6K/bHC75uP4iHM1zoYIoIbRuUNYH8Hn48XYQPR4aEOMDQ7mgvqg5Vc0KibITxB+iiZVKWN0jzmoPatvygMoHlqMR3BBp/PM5SB1jqc48gyXC+oSbS8Hnn0ORNYL5SmC3li6aL3f/8zCjyn5lfhF+FQfMJzGoAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Prisma"
        title="Prisma"
        src="/static/19cde4ff3bb19808d8a43a1209fac263/8c557/prisma-test.png"
        srcset="/static/19cde4ff3bb19808d8a43a1209fac263/4edbd/prisma-test.png 175w,
/static/19cde4ff3bb19808d8a43a1209fac263/13ae7/prisma-test.png 350w,
/static/19cde4ff3bb19808d8a43a1209fac263/8c557/prisma-test.png 700w,
/static/19cde4ff3bb19808d8a43a1209fac263/e996b/prisma-test.png 1050w,
/static/19cde4ff3bb19808d8a43a1209fac263/82c1e/prisma-test.png 1398w"
        sizes="(max-width: 700px) 100vw, 700px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<h5>2. TypeORM 코드</h5>
<div class="gatsby-code-title">TypeORM</div>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token parameter">connection</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'------- TypeORM -------'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> repository <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">getRepository</span><span class="token punctuation">(</span>User<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'typeorm'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> users2 <span class="token operator">=</span> <span class="token keyword">await</span> repository<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>relations<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'posts'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'typeorm'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5>결과</h5>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 15.428571428571427%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAsUlEQVQI1z2MWw6CMBRE2YyPoPEBbXhoQVopKIiiMX64/3UcaxP9mNwzk5sTRHLPJrcUpxfq0BKlmqU4kKkamVY+6d4QZ4ZtasiKBplpvye5Rrh9kxh2hSVOSoKvZHi82dV3KnulbO7Up5F+eBKpjlxfsO0VpTu2rq+Km/+rjj3NeUSZHln2tI5LfSawDobxhXWSzknWUU64SpgtBJNQuCuZhfG/TxfC89TxfCl9ftuXPyDKZlM66uWDAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="TypeORM"
        title="TypeORM"
        src="/static/744da7732dd0d8cd396c9022d78405f5/8c557/typeorm-test.png"
        srcset="/static/744da7732dd0d8cd396c9022d78405f5/4edbd/typeorm-test.png 175w,
/static/744da7732dd0d8cd396c9022d78405f5/13ae7/typeorm-test.png 350w,
/static/744da7732dd0d8cd396c9022d78405f5/8c557/typeorm-test.png 700w,
/static/744da7732dd0d8cd396c9022d78405f5/e996b/typeorm-test.png 1050w,
/static/744da7732dd0d8cd396c9022d78405f5/2cefc/typeorm-test.png 1400w,
/static/744da7732dd0d8cd396c9022d78405f5/5faa8/typeorm-test.png 1444w"
        sizes="(max-width: 700px) 100vw, 700px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<h2>결론</h2>
<p>Prisma (180-240ms), TypeORM (90-120ms) 여러번 실행해보니 대략적인 결과가 나왔습니다.</p>
<p>시간 차이가 나는 이유는 아무래도 <code class="language-text">Prisma</code>는 쿼리를 2번 나누어 보내고, <code class="language-text">TypeORM</code>은 Join 시킨 1번의 쿼리로 보내서 차이가 생기는 것 같습니다.</p>
<p>Prisma가 Optimize가 잘 안되어 있는 건지..?</p>
<p>확실치 않지만 아무래도 베타 버전이기에 사용을 고민하는 개발자분이 있다면 깊게 고민하시고 기술을 선택하셨으면 합니다 !</p></div></div><aside><div class="RelatedPosts__Wrapper-sc-1nrzwfn-0 fFDafD"><div class="RelatedPosts__PostCardWrapper-sc-1nrzwfn-1 gvYRzK"><a class="post-card-link" href="/category/blog/getting-started-utterances/"><p class="RelatedPosts__PostCardEmoji-sc-1nrzwfn-2 COWRd"><img class="emoji" draggable="false" alt="💬" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f4ac.svg"/></p><div class="RelatedPosts__PostCardContent-sc-1nrzwfn-3 jNfPFJ"><h5>Gatsby 블로그 - utterances 소셜 댓글 기능 도입하기</h5><time>2020.06.07</time></div></a></div><div class="RelatedPosts__PostCardWrapper-sc-1nrzwfn-1 gvYRzK"><a class="post-card-link" href="/category/blog/getting-started-markdown/"><p class="RelatedPosts__PostCardEmoji-sc-1nrzwfn-2 COWRd"><img class="emoji" draggable="false" alt="📋" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f4cb.svg"/></p><div class="RelatedPosts__PostCardContent-sc-1nrzwfn-3 jNfPFJ"><h5>마크다운 (Markdown) 문법 알아보기</h5><time>2020.06.04</time></div></a></div></div><div></div></aside></section></main></div><div class="Bio__BioWrapper-sc-1p2fzdk-0 hHuvPI"><div class="Bio__BioHeader-sc-1p2fzdk-2 eVYoiM"><img src="/static/avatar-0e6990ae20cefbb7bea86c8b1e963ebe.png" alt="wwlee94" class="Bio__AvatarImage-sc-1p2fzdk-1 PECYf"/><div class="Bio__BioName-sc-1p2fzdk-3 KSffX">wwlee94</div></div><div class="Bio__BioMain-sc-1p2fzdk-4 huBels"><div class="Bio__BioText-sc-1p2fzdk-5 gJRwpF"><p>스페셜리스트보다 제너럴리스트가 되고싶은</p><p>    백엔드 개발자입니다 :)</p></div><div class="Bio__BioLinks-sc-1p2fzdk-6 hTwKlC"><a href="https://www.notion.so/LEE-Woo-won-aa26875d3b4f40cdb4a75f86a77a0862" class="Bio__BioLink-sc-1p2fzdk-7 hEfKMb"><svg xmlns="http://www.w3.org/2000/svg" focusable="false" style="transform:rotate(360deg)" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514c-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233l4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z" fill="currentColor"/></svg></a><a href="https://github.com/wwlee94" class="Bio__BioLink-sc-1p2fzdk-7 hEfKMb"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" size="32" height="32" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a class="Bio__BioLink-sc-1p2fzdk-7 hEfKMb bio-link--email" href="mailto:wwlee94@naver.com"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" size="32" height="32" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></svg></a></div></div></div></div></div><footer class="Footer__FooterContent-zn4blm-0 qFAAr"><div class="ContentWrapper__IndexContent-sc-11a8f56-0 bKvkBm"><div class="Footer__FooterInner-zn4blm-1 gQCnFr"><div>© <!-- -->2020<!-- -->, Blausee. All rights reserved.</div></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/category/blog/performance-comparison-prisma-typeorm/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-08a3a2c53b9e6abfe32f.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-71ad33effa27f873a1fc.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-aaabd06a16a990d9871a.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-c5eca2815b1003bb6e76.js"],"component---src-templates-categories-tsx":["/component---src-templates-categories-tsx-e713de0bcb5661a9ec01.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-da42c88a80d5c459f845.js"]};/*]]>*/</script><script src="/component---src-templates-post-tsx-da42c88a80d5c459f845.js" async=""></script><script src="/53b27b57f60ee3e1ca57a66cde9add975dffb161-446cafcc78bbbecca50f.js" async=""></script><script src="/de71a805-207cb31e62a865cb1862.js" async=""></script><script src="/252f366e-39b517a8d8c6bcc2c394.js" async=""></script><script src="/1bfc9850-9265523730b375b8f382.js" async=""></script><script src="/app-08a3a2c53b9e6abfe32f.js" async=""></script><script src="/framework-59a9ef51c55d9b62f7de.js" async=""></script><script src="/webpack-runtime-ef0da7f691e912714bbc.js" async=""></script></body></html>